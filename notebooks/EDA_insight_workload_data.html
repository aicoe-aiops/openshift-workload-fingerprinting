
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exploratory Data Analysis &#8212; OpenShift Workload Fingerprinting</title>

  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">





    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />

  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">


    <!-- Google Analytics -->

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">

    <div class="container-fluid" id="banner"></div>



    <div class="container-xl">
      <div class="row">

<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">

        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">



      <h1 class="site-logo" id="site-title">OpenShift Workload Fingerprinting</h1>

    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Understanding Workloads in OpenShift
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Previous Work Done
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../docs/Relevant_papers.html">
   Relevant Papers related to Fingerprinting Workloads
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started_notebook.html">
   Getting started: Introducing workload data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pyxis_mapping.html">
   Mapping Image SHA to Image Name using Pyxis database
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Data_collection_from_telemetry.html">
   Extracting the Telemetry Info for Clusters in Workload Dataset
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Exploratory Data Analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="EDA_workload_demo.html">
   Exploratory Data Analysis
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  ML Clustering
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="ML_clustering_part2.html">
   ML Clustering
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>






<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">

    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">

            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>


<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->

        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/EDA_insight_workload_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/aicoe-aiops/openshift-workload-fingerprinting"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/aicoe-aiops/openshift-workload-fingerprinting/issues/new?title=Issue%20on%20page%20%2Fnotebooks/EDA_insight_workload_data.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>

    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">

        <a class="binder-button" href=" /v2/gh/aicoe-aiops/openshift-workload-fingerprinting/master?urlpath=lab/tree/notebooks/EDA_insight_workload_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>


        <a class="jupyterhub-button" href="https://jupyterhub-opf-jupyterhub.apps.smaug.na.operate-first.cloud/hub/user-redirect/git-pull?repo=https://github.com/aicoe-aiops/openshift-workload-fingerprinting&urlpath=lab/tree/openshift-workload-fingerprinting/notebooks/EDA_insight_workload_data.ipynb&branch=master"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>



    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">

            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-collection">
   Data Collection
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#image-layer-dataset">
   <strong>
    Image layer Dataset
   </strong>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#containers-dataset">
   <strong>
    Containers Dataset
   </strong>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#merging-the-datasets">
   Merging the datasets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inspecting-the-container-dataset">
   Inspecting the Container Dataset
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inspecting-the-image-layer-dataset">
   Inspecting the Image layer dataset
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#some-faqs">
   Some FAQs
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-many-unique-image-name-are-there-in-image-layer-dataset-and-container-dataset">
     How many unique image name are there in image layer dataset and container dataset?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#popular-images-and-groups-of-images-occuring-in-a-cluster">
     <strong>
      Popular images and groups of images occuring in a cluster
     </strong>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#extracting-the-list-of-openshift-related-repos-by-web-scraping">
       Extracting the list of OpenShift related repos by web-scraping
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#top-50-image-name-related-to-openshift">
     Top 50 image name related to OpenShift
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#distribution-of-image-ids-in-clusters">
     Distribution of image_ids in clusters:
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-are-the-most-popular-commands-and-what-args-are-they-called-with">
     <strong>
      What are the most popular commands and what args are they called with?
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-many-pods-have-same-image-deployed">
     <strong>
      How many PODs have same image deployed?
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#are-there-any-images-that-occur-in-only-one-cluster">
     <strong>
      Are there any images that occur in only one cluster?
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#is-customer-cluster-is-empty-testing-or-full">
     Is customer cluster is empty, testing or full?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-many-users-are-deploying-ha-configurations">
     How many users are deploying HA configurations?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#most-common-base-images">
     Most common base images
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#most-common-images-for-layer-1">
     Most common images for layer = 1
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plots-of-information-extracted-from-the-telemetry">
   Plots of information extracted from the telemetry
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#image-layers-dataset">
     <strong>
      Image_layers_dataset
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Containers dataset
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion">
   Conclusion
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">

              <div>

  <div class="tex2jax_ignore mathjax_ignore section" id="exploratory-data-analysis">
<h1>Exploratory Data Analysis<a class="headerlink" href="#exploratory-data-analysis" title="Permalink to this headline">¶</a></h1>
<p>As a data scientist, I want to get the information about the types of workloads, images , containers, shapes, etc and their inter-relationships from the insight operator archive data-set. For this purpose, I would like to perform, EDA on the workload data from 4.8+ clusters collected from the <a class="reference external" href="https://github.com/openshift/insights-operator/blob/master/docs/insights-archive-sample/config/workload_info.json">Insight Operator Archive</a>.</p>
<p>Exploratory Data Analysis is the initial analysis that we perform on the data to understand the data. It is important because before we create models or perform operations on the data, we should know what the data is all about, what all features it consists of, how these features are related to each other, etc.</p>
<p>In this notebook, the workload data from the insight operator archive is merged with the mapped data from pyxis database and data from the telemetry.</p>
<p>Containers, images and image streams are important concepts to understand when we set out to create and manage containerized software. An image holds a set of software that is ready to run, while a container is a running instance of the container image. An image stream provides a way of storing different versions of the same basic image. Those different versions are represented by different tags on the same image name.</p>
<div class="section" id="data-collection">
<h2>Data Collection<a class="headerlink" href="#data-collection" title="Permalink to this headline">¶</a></h2>
<p>Here we import the six kinds of dataset from the DH-PLAYPEN bucket.</p>
<p>Firstly, installing some useful packages used in the analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">boto3</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">missingno</span> <span class="k">as</span> <span class="nn">msno</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span><span class="p">,</span> <span class="n">find_dotenv</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">load_dotenv</span><span class="p">(</span><span class="n">find_dotenv</span><span class="p">())</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_columns&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># CEPH Bucket variables</span>
<span class="n">s3_endpoint_url</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;S3_ENDPOINT&quot;</span><span class="p">)</span>
<span class="n">s3_access_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;S3_ACCESS_KEY&quot;</span><span class="p">)</span>
<span class="n">s3_secret_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;S3_SECRET_KEY&quot;</span><span class="p">)</span>
<span class="n">s3_bucket</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;S3_BUCKET&quot;</span><span class="p">)</span>

<span class="c1"># s3 resource to communicate with storage</span>
<span class="n">s3</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span>
    <span class="s2">&quot;s3&quot;</span><span class="p">,</span>
    <span class="n">endpoint_url</span><span class="o">=</span><span class="n">s3_endpoint_url</span><span class="p">,</span>
    <span class="n">aws_access_key_id</span><span class="o">=</span><span class="n">s3_access_key</span><span class="p">,</span>
    <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="n">s3_secret_key</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># access the parquet file as an s3 object</span>

<span class="n">obj1</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span>
    <span class="s2">&quot;DH-PLAYPEN&quot;</span><span class="p">,</span> <span class="s2">&quot;ccx/fingerprinting/image_layers/date=2021-05-12/2021-05-12.parquet&quot;</span>
<span class="p">)</span>
<span class="n">obj2</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span>
    <span class="s2">&quot;DH-PLAYPEN&quot;</span><span class="p">,</span> <span class="s2">&quot;ccx/fingerprinting/containers/date=2021-05-12/2021-05-12.parquet&quot;</span>
<span class="p">)</span>
<span class="n">obj3</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span>
    <span class="s2">&quot;DH-PLAYPEN&quot;</span><span class="p">,</span> <span class="s2">&quot;ccx/fingerprinting/image_layers/dataframe_image_id.parquet&quot;</span>
<span class="p">)</span>
<span class="n">obj4</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span><span class="s2">&quot;DH-PLAYPEN&quot;</span><span class="p">,</span> <span class="s2">&quot;ccx/fingerprinting/containers/df_cont_image_id.parquet&quot;</span><span class="p">)</span>
<span class="n">obj5</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span>
    <span class="s2">&quot;DH-PLAYPEN&quot;</span><span class="p">,</span> <span class="s2">&quot;ccx/fingerprinting/image_layers/telemeter_image_data.parquet&quot;</span>
<span class="p">)</span>
<span class="n">obj6</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span>
    <span class="s2">&quot;DH-PLAYPEN&quot;</span><span class="p">,</span> <span class="s2">&quot;ccx/fingerprinting/containers/telemeter_cont_data.parquet&quot;</span>
<span class="p">)</span>

<span class="n">obj7</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span>
    <span class="s2">&quot;DH-PLAYPEN&quot;</span><span class="p">,</span> <span class="s2">&quot;ccx/fingerprinting/image_layers/df_image_layerid.parquet&quot;</span>
<span class="p">)</span>
<span class="c1"># download the file into the buffer</span>
<span class="n">buffer1</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
<span class="n">obj1</span><span class="o">.</span><span class="n">download_fileobj</span><span class="p">(</span><span class="n">buffer1</span><span class="p">)</span>
<span class="n">buffer2</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
<span class="n">obj2</span><span class="o">.</span><span class="n">download_fileobj</span><span class="p">(</span><span class="n">buffer2</span><span class="p">)</span>
<span class="n">buffer3</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
<span class="n">obj3</span><span class="o">.</span><span class="n">download_fileobj</span><span class="p">(</span><span class="n">buffer3</span><span class="p">)</span>
<span class="n">buffer4</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
<span class="n">obj4</span><span class="o">.</span><span class="n">download_fileobj</span><span class="p">(</span><span class="n">buffer4</span><span class="p">)</span>
<span class="n">buffer5</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
<span class="n">obj5</span><span class="o">.</span><span class="n">download_fileobj</span><span class="p">(</span><span class="n">buffer5</span><span class="p">)</span>
<span class="n">buffer6</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
<span class="n">obj6</span><span class="o">.</span><span class="n">download_fileobj</span><span class="p">(</span><span class="n">buffer6</span><span class="p">)</span>
<span class="n">buffer7</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
<span class="n">obj7</span><span class="o">.</span><span class="n">download_fileobj</span><span class="p">(</span><span class="n">buffer7</span><span class="p">)</span>

<span class="c1"># read the buffer and create the dataframe</span>
<span class="n">image_layers_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="n">buffer1</span><span class="p">)</span>
<span class="n">image_id_map</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="n">buffer3</span><span class="p">)</span>
<span class="n">image_layer_idmap</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="n">buffer7</span><span class="p">)</span>
<span class="n">containers_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="n">buffer2</span><span class="p">)</span>
<span class="n">cont_id_map</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="n">buffer4</span><span class="p">)</span>
<span class="n">telemeter_image_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="n">buffer5</span><span class="p">)</span>
<span class="n">telemeter_cont_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="n">buffer6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We now have the six sets of dataframes,</p>
<ul class="simple">
<li><p>Image layer dataset (<em><strong>image_layers_df</strong></em>)</p></li>
<li><p>Image name mapping for sha’s of image_id from image layer dataset (<em><strong>image_id_mapping</strong></em>)</p></li>
<li><p>Image layer id mapping for sha’s of the layers of the corresponding image_id (<strong>image_layer_idmap</strong>)</p></li>
<li><p>Containers dataset (<em><strong>containers_df</strong></em>)</p></li>
<li><p>Image name mapping for sha’s of the image_id from container dataset (<em><strong>cont_imageid_map</strong></em>)</p></li>
<li><p>Information from the telemeter for the corresponding cluster_id from image_layers_dataset (<em><strong>telemeter_image_data</strong></em>)</p></li>
<li><p>Information from the telemeter for the corresponding cluster_id from container dataset (<em><strong>telemeter_cont_data</strong></em>)</p></li>
</ul>
</div>
<div class="section" id="image-layer-dataset">
<h2><strong>Image layer Dataset</strong><a class="headerlink" href="#image-layer-dataset" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image_layers_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cluster_id</th>
      <th>image_id</th>
      <th>layer_image_id</th>
      <th>layer_image_level</th>
      <th>first_command</th>
      <th>first_arg</th>
      <th>archive_path</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>sha256:337c22cabe530213b14965f9ea69a92dbeb5104...</td>
      <td>sha256:9ebb302e1fb002fb643091710dac46f8258781d...</td>
      <td>0</td>
      <td>icTsn2s_EIax</td>
      <td>2v1NneeWoS_9</td>
      <td>archives/compressed/00/00003d61-9db1-4757-9cd1...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>sha256:337c22cabe530213b14965f9ea69a92dbeb5104...</td>
      <td>sha256:a74396a32e85c2feeedf76052ed3297859810c8...</td>
      <td>1</td>
      <td>icTsn2s_EIax</td>
      <td>2v1NneeWoS_9</td>
      <td>archives/compressed/00/00003d61-9db1-4757-9cd1...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Pyxis data for the image SHA’s in image_id column of image_layers dataset</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image_id_map</span> <span class="o">=</span> <span class="n">image_id_map</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">image_id_map</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>License</th>
      <th>architecture</th>
      <th>build-date</th>
      <th>com.redhat.build-host</th>
      <th>com.redhat.component</th>
      <th>com.redhat.license_terms</th>
      <th>description</th>
      <th>distribution-scope</th>
      <th>io.k8s.description</th>
      <th>io.k8s.display-name</th>
      <th>io.openshift.build.commit.id</th>
      <th>io.openshift.build.commit.url</th>
      <th>io.openshift.build.source-location</th>
      <th>io.openshift.expose-services</th>
      <th>io.openshift.maintainer.component</th>
      <th>io.openshift.maintainer.product</th>
      <th>io.openshift.tags</th>
      <th>maintainer</th>
      <th>name</th>
      <th>release</th>
      <th>summary</th>
      <th>url</th>
      <th>vcs-ref</th>
      <th>vcs-type</th>
      <th>vendor</th>
      <th>version</th>
      <th>io.openshift.s2i.scripts-url</th>
      <th>io.s2i.scripts-url</th>
      <th>usage</th>
      <th>io.openshift.s2i.assemble-user</th>
      <th>authoritative-source-url</th>
      <th>io.fabric8.s2i.version.jolokia</th>
      <th>org.concrt.version</th>
      <th>org.jboss.product</th>
      <th>org.jboss.product.amq.version</th>
      <th>org.jboss.product.openjdk.version</th>
      <th>org.jboss.product.version</th>
      <th>com.redhat.deployments-dir</th>
      <th>com.redhat.dev-mode</th>
      <th>io.jenkins.version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:337c22cabe530213b14965f9ea69a92dbeb5104...</td>
      <td>GPLv2+</td>
      <td>x86_64</td>
      <td>2021-04-30T00:31:42.349887</td>
      <td>cpt-1004.osbs.prod.upshift.rdu2.redhat.com</td>
      <td>ose-cli-artifacts-container</td>
      <td>https://www.redhat.com/agreements</td>
      <td>OpenShift is a platform for developing, buildi...</td>
      <td>public</td>
      <td>OpenShift is a platform for developing, buildi...</td>
      <td>OpenShift Clients</td>
      <td>a765590e1b87b014b9d81f9ea534460d6dff73f2</td>
      <td>https://github.com/openshift/oc/commit/a765590...</td>
      <td>https://github.com/openshift/oc</td>
      <td></td>
      <td>oc</td>
      <td>OpenShift Container Platform</td>
      <td>openshift,cli</td>
      <td>Red Hat, Inc.</td>
      <td>openshift/ose-cli-artifacts</td>
      <td>202104292348.p0</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>https://access.redhat.com/containers/#/registr...</td>
      <td>43f412b2932a5ecfe5ebedcab38cf2915cf03813</td>
      <td>git</td>
      <td>Red Hat, Inc.</td>
      <td>v4.8.0</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:3574d6c1fcc46e1ebd41b7b887b92035ea18213...</td>
      <td>GPLv2+</td>
      <td>x86_64</td>
      <td>2021-04-30T00:22:29.539443</td>
      <td>cpt-1008.osbs.prod.upshift.rdu2.redhat.com</td>
      <td>openshift-enterprise-cli-container</td>
      <td>https://www.redhat.com/agreements</td>
      <td>OpenShift is a platform for developing, buildi...</td>
      <td>public</td>
      <td>OpenShift is a platform for developing, buildi...</td>
      <td>OpenShift Client</td>
      <td>a765590e1b87b014b9d81f9ea534460d6dff73f2</td>
      <td>https://github.com/openshift/oc/commit/a765590...</td>
      <td>https://github.com/openshift/oc</td>
      <td></td>
      <td>oc</td>
      <td>OpenShift Container Platform</td>
      <td>openshift,cli</td>
      <td>Red Hat, Inc.</td>
      <td>openshift/ose-cli</td>
      <td>202104292348.p0</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>https://access.redhat.com/containers/#/registr...</td>
      <td>d3ae20f4e2fac18ea671cf12636d16791146a460</td>
      <td>git</td>
      <td>Red Hat, Inc.</td>
      <td>v4.8.0</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Pyxis data for SHA’s in image_layer_id column of image_layers dataset</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image_layer_idmap</span> <span class="o">=</span> <span class="n">image_layer_idmap</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">image_layer_idmap</span> <span class="o">=</span> <span class="n">image_layer_idmap</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;image_id&quot;</span><span class="p">:</span> <span class="s2">&quot;layer_image_id&quot;</span><span class="p">})</span>
<span class="n">image_layer_idmap</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>layer_image_id</th>
      <th>architecture</th>
      <th>build-date</th>
      <th>com.redhat.build-host</th>
      <th>com.redhat.component</th>
      <th>com.redhat.license_terms</th>
      <th>description</th>
      <th>distribution-scope</th>
      <th>io.k8s.description</th>
      <th>io.k8s.display-name</th>
      <th>io.openshift.expose-services</th>
      <th>io.openshift.tags</th>
      <th>maintainer</th>
      <th>name</th>
      <th>release</th>
      <th>summary</th>
      <th>url</th>
      <th>vcs-ref</th>
      <th>vcs-type</th>
      <th>vendor</th>
      <th>version</th>
      <th>io.openshift.s2i.scripts-url</th>
      <th>io.s2i.scripts-url</th>
      <th>com.redhat.deployments-dir</th>
      <th>com.redhat.dev-mode</th>
      <th>com.redhat.dev-mode.port</th>
      <th>help</th>
      <th>usage</th>
      <th>io.openshift.s2i.assemble-user</th>
      <th>authoritative-source-url</th>
      <th>License</th>
      <th>Architecture</th>
      <th>Authoritative_Registry</th>
      <th>BZComponent</th>
      <th>Build_Host</th>
      <th>Name</th>
      <th>Release</th>
      <th>Vendor</th>
      <th>Version</th>
      <th>com.ibm.hdm.common.branch</th>
      <th>com.ibm.hdm.common.buildnumber</th>
      <th>com.ibm.hdm.common.commitId</th>
      <th>org.label-schema.vcs-ref</th>
      <th>org.label-schema.vcs-url</th>
      <th>io.openshift.build.commit.id</th>
      <th>io.openshift.build.commit.url</th>
      <th>io.openshift.build.source-location</th>
      <th>io.openshift.maintainer.product</th>
      <th>io.openshift.maintainer.component</th>
      <th>io.cekit.version</th>
      <th>io.fabric8.s2i.version.jolokia</th>
      <th>io.fabric8.s2i.version.maven</th>
      <th>io.openshift.s2i.destination</th>
      <th>org.jboss.container.deployments-dir</th>
      <th>org.jboss.product</th>
      <th>org.jboss.product.openjdk.version</th>
      <th>org.jboss.product.version</th>
      <th>org.concrt.version</th>
      <th>org.jboss.product.amq.version</th>
      <th>com.ibm.license_terms</th>
      <th>org.label-schema.build-date</th>
      <th>org.label-schema.license</th>
      <th>org.label-schema.name</th>
      <th>org.label-schema.schema-version</th>
      <th>org.label-schema.vendor</th>
      <th>io.fabric8.s2i.version.karaf</th>
      <th>io.fabric8.s2i.version.prometheus.jmx_exporter</th>
      <th>org.jboss.deployments-dir</th>
      <th>org.jboss.product.eap.version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:fdb393d8227cbe9756537d3f215a3098ae797bd...</td>
      <td>x86_64</td>
      <td>2021-02-10T00:15:26.710361</td>
      <td>cpt-1004.osbs.prod.upshift.rdu2.redhat.com</td>
      <td>ubi8-container</td>
      <td>https://www.redhat.com/en/about/red-hat-end-us...</td>
      <td>The Universal Base Image is designed and engin...</td>
      <td>public</td>
      <td>The Universal Base Image is designed and engin...</td>
      <td>Red Hat Universal Base Image 8</td>
      <td></td>
      <td>base rhel8</td>
      <td>Red Hat, Inc.</td>
      <td>ubi8</td>
      <td>289</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>https://access.redhat.com/containers/#/registr...</td>
      <td>7dd0869dabeebe7119fc04b16767c5991bcaa865</td>
      <td>git</td>
      <td>Red Hat, Inc.</td>
      <td>8.3</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:64607cc74f9cbe0e12f167547df0cf661de5a8b...</td>
      <td>x86_64</td>
      <td>2021-03-30T18:30:01.465792</td>
      <td>cpt-1003.osbs.prod.upshift.rdu2.redhat.com</td>
      <td>ubi8-container</td>
      <td>https://www.redhat.com/en/about/red-hat-end-us...</td>
      <td>The Universal Base Image is designed and engin...</td>
      <td>public</td>
      <td>The Universal Base Image is designed and engin...</td>
      <td>Red Hat Universal Base Image 8</td>
      <td></td>
      <td>base rhel8</td>
      <td>Red Hat, Inc.</td>
      <td>ubi8</td>
      <td>297</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>https://access.redhat.com/containers/#/registr...</td>
      <td>7dd0869dabeebe7119fc04b16767c5991bcaa865</td>
      <td>git</td>
      <td>Red Hat, Inc.</td>
      <td>8.3</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Telemetry dataset for the corresponding <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code> from image_layers dataset</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">telemeter_image_data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;cluster_id&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">telemeter_image_data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cluster_id</th>
      <th>timestamp</th>
      <th>value_workload:cpu_usage_cores:sum</th>
      <th>value_workload:memory_usage_bytes:sum</th>
      <th>value_openshift:cpu_usage_cores:sum</th>
      <th>value_openshift:memory_usage_bytes:sum</th>
      <th>value_cluster:cpu_usage_cores:sum</th>
      <th>value_cluster:memory_usage_bytes:sum</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>1620860062</td>
      <td>0.03230751556666692</td>
      <td>389971968</td>
      <td>1.9291393691359602</td>
      <td>14560608256</td>
      <td>1.9614468847026272</td>
      <td>14950580224</td>
    </tr>
    <tr>
      <th>1</th>
      <td>00351e6e-53ce-465e-9493-cf0cd2367049</td>
      <td>1620852056</td>
      <td>0.030943035959259964</td>
      <td>385421312</td>
      <td>1.7056283926121354</td>
      <td>14386823168</td>
      <td>1.7365714285713953</td>
      <td>14772244480</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="containers-dataset">
<h2><strong>Containers Dataset</strong><a class="headerlink" href="#containers-dataset" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">containers_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cluster_id</th>
      <th>namespace</th>
      <th>shape</th>
      <th>shape_instances</th>
      <th>image_id</th>
      <th>first_command</th>
      <th>first_arg</th>
      <th>init_container</th>
      <th>archive_path</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>0LiT6ZNtbpYL</td>
      <td>sha256:3ecf29979b2722bf4a82a5e7a954e8685820720...</td>
      <td>1</td>
      <td>sha256:f46f210d6023bec16e68340b484a8881ce46d5e...</td>
      <td>None</td>
      <td>47DEQpj8HBSa</td>
      <td>False</td>
      <td>archives/compressed/00/00003d61-9db1-4757-9cd1...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>0LiT6ZNtbpYL</td>
      <td>sha256:3ecf29979b2722bf4a82a5e7a954e8685820720...</td>
      <td>1</td>
      <td>sha256:edb9aaacf421c6dc45b20324e8699cec02f26bf...</td>
      <td>n9CdwzVF-cwZ</td>
      <td>RNOaw_AuQeIY</td>
      <td>False</td>
      <td>archives/compressed/00/00003d61-9db1-4757-9cd1...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Pyxis data for the image SHA’s in image_id column of container dataset</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_id_map</span> <span class="o">=</span> <span class="n">cont_id_map</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">cont_id_map</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>License</th>
      <th>architecture</th>
      <th>build-date</th>
      <th>com.redhat.build-host</th>
      <th>com.redhat.component</th>
      <th>com.redhat.license_terms</th>
      <th>description</th>
      <th>distribution-scope</th>
      <th>io.k8s.description</th>
      <th>io.k8s.display-name</th>
      <th>io.openshift.build.commit.id</th>
      <th>io.openshift.build.commit.url</th>
      <th>io.openshift.build.source-location</th>
      <th>io.openshift.expose-services</th>
      <th>io.openshift.maintainer.component</th>
      <th>io.openshift.maintainer.product</th>
      <th>io.openshift.tags</th>
      <th>maintainer</th>
      <th>name</th>
      <th>release</th>
      <th>summary</th>
      <th>url</th>
      <th>vcs-ref</th>
      <th>vcs-type</th>
      <th>vendor</th>
      <th>version</th>
      <th>io.openshift.maintainer.subcomponent</th>
      <th>io.openshift.release.operator</th>
      <th>io.openshift.build.versions</th>
      <th>com.redhat.delivery.appregistry</th>
      <th>upstream-vcs-ref</th>
      <th>upstream-vcs-type</th>
      <th>upstream-version</th>
      <th>org.kubevirt.hco.csv-generator.v1</th>
      <th>io.openshift.s2i.scripts-url</th>
      <th>io.s2i.scripts-url</th>
      <th>usage</th>
      <th>io.openshift.s2i.assemble-user</th>
      <th>display-name</th>
      <th>com.redhat.delivery.operator.bundle</th>
      <th>com.redhat.openshift.versions</th>
      <th>io.cekit.version</th>
      <th>operators.operatorframework.io.bundle.channel.default.v1</th>
      <th>operators.operatorframework.io.bundle.channels.v1</th>
      <th>operators.operatorframework.io.bundle.manifests.v1</th>
      <th>operators.operatorframework.io.bundle.mediatype.v1</th>
      <th>operators.operatorframework.io.bundle.metadata.v1</th>
      <th>operators.operatorframework.io.bundle.package.v1</th>
      <th>licenses</th>
      <th>CEPH_POINT_RELEASE</th>
      <th>GIT_BRANCH</th>
      <th>GIT_CLEAN</th>
      <th>GIT_COMMIT</th>
      <th>GIT_REPO</th>
      <th>RELEASE</th>
      <th>ocs.tags</th>
      <th>com.redhat.deployments-dir</th>
      <th>com.redhat.dev-mode</th>
      <th>com.redhat.dev-mode.port</th>
      <th>help</th>
      <th>operators.operatorframework.io.index.database.v1</th>
      <th>authoritative-source-url</th>
      <th>license</th>
      <th>io.fabric8.s2i.version.jolokia</th>
      <th>io.fabric8.s2i.version.maven</th>
      <th>io.openshift.s2i.destination</th>
      <th>org.jboss.container.deployments-dir</th>
      <th>org.jboss.product</th>
      <th>org.jboss.product.eap.version</th>
      <th>org.jboss.product.openjdk.version</th>
      <th>org.jboss.product.sso.version</th>
      <th>org.jboss.product.version</th>
      <th>istio_version</th>
      <th>openshift_build</th>
      <th>operator_build</th>
      <th>run</th>
      <th>org.concrt.version</th>
      <th>org.jboss.product.amq.version</th>
      <th>io.openshift.build.commit.author</th>
      <th>io.openshift.build.commit.date</th>
      <th>io.openshift.build.commit.message</th>
      <th>io.openshift.build.commit.ref</th>
      <th>io.openshift.build.name</th>
      <th>io.openshift.build.namespace</th>
      <th>io.openshift.build.source-context-dir</th>
      <th>jenkins.build.number</th>
      <th>jenkins.tarball.url</th>
      <th>io.jenkins.version</th>
      <th>build-utility</th>
      <th>org.label-schema.vcs-ref</th>
      <th>org.label-schema.vcs-url</th>
      <th>org.label-schema.description</th>
      <th>org.label-schema.license</th>
      <th>org.label-schema.name</th>
      <th>org.label-schema.schema-version</th>
      <th>org.label-schema.vendor</th>
      <th>JAVA_VERSION</th>
      <th>com.ibm.events.commitid</th>
      <th>com.ibm.eventstreams.base-for-bedrock.icp-linux-amd64.commitid</th>
      <th>com.ibm.eventstreams.base-for-bedrock.icp-linux-amd64.job</th>
      <th>com.ibm.eventstreams.base-for-bedrock.icp-linux-amd64.license</th>
      <th>com.ibm.eventstreams.base-for-bedrock.icp-linux-amd64.maintainer</th>
      <th>com.ibm.eventstreams.base-for-bedrock.icp-linux-amd64.name</th>
      <th>com.ibm.eventstreams.base-for-bedrock.icp-linux-amd64.version</th>
      <th>com.ibm.eventstreams.openjdk-11-sdk-for-bedrock.icp-linux-amd64.commitid</th>
      <th>com.ibm.eventstreams.openjdk-11-sdk-for-bedrock.icp-linux-amd64.job</th>
      <th>com.ibm.eventstreams.openjdk-11-sdk-for-bedrock.icp-linux-amd64.license</th>
      <th>com.ibm.eventstreams.openjdk-11-sdk-for-bedrock.icp-linux-amd64.maintainer</th>
      <th>com.ibm.eventstreams.openjdk-11-sdk-for-bedrock.icp-linux-amd64.name</th>
      <th>com.ibm.eventstreams.openjdk-11-sdk-for-bedrock.icp-linux-amd64.version</th>
      <th>com.redhat.apb.runtime</th>
      <th>com.microsoft.product</th>
      <th>com.microsoft.version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:f46f210d6023bec16e68340b484a8881ce46d5e...</td>
      <td>ASL 2.0</td>
      <td>x86_64</td>
      <td>2021-05-04T21:54:58.392948</td>
      <td>cpt-1007.osbs.prod.upshift.rdu2.redhat.com</td>
      <td>kube-rbac-proxy-container</td>
      <td>https://www.redhat.com/agreements</td>
      <td>This is a proxy, that can perform Kubernetes R...</td>
      <td>public</td>
      <td>This is a proxy, that can perform Kubernetes R...</td>
      <td>kube-rbac-proxy</td>
      <td>8d11a8fa9ce252cd25794c0d9280cbdc0c2affcb</td>
      <td>https://github.com/openshift/kube-rbac-proxy/c...</td>
      <td>https://github.com/openshift/kube-rbac-proxy</td>
      <td></td>
      <td>Monitoring</td>
      <td>OpenShift Container Platform</td>
      <td>kubernetes</td>
      <td>OpenShift Monitoring Team &lt;team-monitoring@red...</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td>202105042126.p0</td>
      <td></td>
      <td>https://access.redhat.com/containers/#/registr...</td>
      <td>12ef9d3cc226f6bd4a898d4b23ffa1ec5d3d27f1</td>
      <td>git</td>
      <td>Red Hat, Inc.</td>
      <td>v4.8.0</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:edb9aaacf421c6dc45b20324e8699cec02f26bf...</td>
      <td>GPLv2+</td>
      <td>x86_64</td>
      <td>2021-05-04T22:05:48.018566</td>
      <td>cpt-1006.osbs.prod.upshift.rdu2.redhat.com</td>
      <td>ose-multus-admission-controller-container</td>
      <td>https://www.redhat.com/agreements</td>
      <td>This is a component of OpenShift Container Pla...</td>
      <td>public</td>
      <td>This is a component of OpenShift Container Pla...</td>
      <td>Container Networking Plugins</td>
      <td>a7312f5e55e9f34cc8b20f6cbfe1af0f363ca1e6</td>
      <td>https://github.com/openshift/multus-admission-...</td>
      <td>https://github.com/openshift/multus-admission-...</td>
      <td></td>
      <td>Networking</td>
      <td>OpenShift Container Platform</td>
      <td>openshift</td>
      <td>Doug Smith &lt;dosmith@redhat.com&gt;</td>
      <td>openshift/ose-multus-admission-controller</td>
      <td>202105042126.p0</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>https://access.redhat.com/containers/#/registr...</td>
      <td>00692865fc2dd0c845bb20c688dbf2cb7e239062</td>
      <td>git</td>
      <td>Red Hat, Inc.</td>
      <td>v4.8.0</td>
      <td>multus</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Telemetry dataset for the corresponding <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code> from containers dataset</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">telemeter_cont_data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;cluster_id&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">telemeter_cont_data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cluster_id</th>
      <th>timestamp</th>
      <th>value_workload:cpu_usage_cores:sum</th>
      <th>value_workload:memory_usage_bytes:sum</th>
      <th>value_openshift:cpu_usage_cores:sum</th>
      <th>value_openshift:memory_usage_bytes:sum</th>
      <th>value_cluster:cpu_usage_cores:sum</th>
      <th>value_cluster:memory_usage_bytes:sum</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>1620860062</td>
      <td>0.03230751556666692</td>
      <td>389971968</td>
      <td>1.9291393691359602</td>
      <td>14560608256</td>
      <td>1.9614468847026272</td>
      <td>14950580224</td>
    </tr>
    <tr>
      <th>1</th>
      <td>00351e6e-53ce-465e-9493-cf0cd2367049</td>
      <td>1620852056</td>
      <td>0.030943035959259964</td>
      <td>385421312</td>
      <td>1.7056283926121354</td>
      <td>14386823168</td>
      <td>1.7365714285713953</td>
      <td>14772244480</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Using the mapping techniques from the <a class="reference external" href="https://github.com/aicoe-aiops/openshift-workload-fingerprinting/issues/14">issue</a>, we were able to map most (not all) of the image_id from the image layers dataset and containers datasets. Information from the telemetry dataset were also extracted (<a class="reference external" href="https://github.com/aicoe-aiops/openshift-workload-fingerprinting/issues/15">issue</a>). In the next steps, we try to merge the respective dataset with respect to the <code class="docutils literal notranslate"><span class="pre">image_id</span></code> and <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code>.</p>
<p>In the next section, we take the information about the <em>product name</em> and <em>summary</em> from the mapped dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image_id_map</span> <span class="o">=</span> <span class="n">image_id_map</span><span class="p">[[</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;summary&quot;</span><span class="p">]]</span>
<span class="n">cont_id_map</span> <span class="o">=</span> <span class="n">cont_id_map</span><span class="p">[[</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;summary&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="merging-the-datasets">
<h2>Merging the datasets<a class="headerlink" href="#merging-the-datasets" title="Permalink to this headline">¶</a></h2>
<p>We do the <code class="docutils literal notranslate"><span class="pre">outer</span></code> merging in-order to keep all the information including those ids which were not mapped and those for which we could not extract any information from the telemeter dataset.</p>
<p><strong>Merged dataframe for image layers dataset</strong></p>
<p>We will be merging the workload dataset with Pyxis data on <code class="docutils literal notranslate"><span class="pre">image_id</span></code> column, and merging with the telemeter data on <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code> column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_image1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">image_layers_df</span><span class="p">,</span> <span class="n">image_id_map</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">df_image</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_image1</span><span class="p">,</span> <span class="n">telemeter_image_data</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">df_image</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cluster_id</th>
      <th>image_id</th>
      <th>layer_image_id</th>
      <th>layer_image_level</th>
      <th>first_command</th>
      <th>first_arg</th>
      <th>archive_path</th>
      <th>name</th>
      <th>summary</th>
      <th>timestamp</th>
      <th>value_workload:cpu_usage_cores:sum</th>
      <th>value_workload:memory_usage_bytes:sum</th>
      <th>value_openshift:cpu_usage_cores:sum</th>
      <th>value_openshift:memory_usage_bytes:sum</th>
      <th>value_cluster:cpu_usage_cores:sum</th>
      <th>value_cluster:memory_usage_bytes:sum</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>sha256:337c22cabe530213b14965f9ea69a92dbeb5104...</td>
      <td>sha256:9ebb302e1fb002fb643091710dac46f8258781d...</td>
      <td>0</td>
      <td>icTsn2s_EIax</td>
      <td>2v1NneeWoS_9</td>
      <td>archives/compressed/00/00003d61-9db1-4757-9cd1...</td>
      <td>openshift/ose-cli-artifacts</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1.620860e+09</td>
      <td>0.03230751556666692</td>
      <td>389971968</td>
      <td>1.9291393691359602</td>
      <td>14560608256</td>
      <td>1.9614468847026272</td>
      <td>14950580224</td>
    </tr>
    <tr>
      <th>1</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>sha256:337c22cabe530213b14965f9ea69a92dbeb5104...</td>
      <td>sha256:a74396a32e85c2feeedf76052ed3297859810c8...</td>
      <td>1</td>
      <td>icTsn2s_EIax</td>
      <td>2v1NneeWoS_9</td>
      <td>archives/compressed/00/00003d61-9db1-4757-9cd1...</td>
      <td>openshift/ose-cli-artifacts</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1.620860e+09</td>
      <td>0.03230751556666692</td>
      <td>389971968</td>
      <td>1.9291393691359602</td>
      <td>14560608256</td>
      <td>1.9614468847026272</td>
      <td>14950580224</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Merged dataframe for containers dataset</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cont1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">containers_df</span><span class="p">,</span> <span class="n">cont_id_map</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">df_cont</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_cont1</span><span class="p">,</span> <span class="n">telemeter_image_data</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">df_cont</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cluster_id</th>
      <th>namespace</th>
      <th>shape</th>
      <th>shape_instances</th>
      <th>image_id</th>
      <th>first_command</th>
      <th>first_arg</th>
      <th>init_container</th>
      <th>archive_path</th>
      <th>name</th>
      <th>summary</th>
      <th>timestamp</th>
      <th>value_workload:cpu_usage_cores:sum</th>
      <th>value_workload:memory_usage_bytes:sum</th>
      <th>value_openshift:cpu_usage_cores:sum</th>
      <th>value_openshift:memory_usage_bytes:sum</th>
      <th>value_cluster:cpu_usage_cores:sum</th>
      <th>value_cluster:memory_usage_bytes:sum</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>0LiT6ZNtbpYL</td>
      <td>sha256:3ecf29979b2722bf4a82a5e7a954e8685820720...</td>
      <td>1</td>
      <td>sha256:f46f210d6023bec16e68340b484a8881ce46d5e...</td>
      <td>None</td>
      <td>47DEQpj8HBSa</td>
      <td>False</td>
      <td>archives/compressed/00/00003d61-9db1-4757-9cd1...</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
      <td>1.620860e+09</td>
      <td>0.03230751556666692</td>
      <td>389971968</td>
      <td>1.9291393691359602</td>
      <td>14560608256</td>
      <td>1.9614468847026272</td>
      <td>14950580224</td>
    </tr>
    <tr>
      <th>1</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>0LiT6ZNtbpYL</td>
      <td>sha256:1e2788d7ec32815d3a0c2ded714ea4f57fc1c05...</td>
      <td>1</td>
      <td>sha256:f46f210d6023bec16e68340b484a8881ce46d5e...</td>
      <td>None</td>
      <td>47DEQpj8HBSa</td>
      <td>False</td>
      <td>archives/compressed/00/00003d61-9db1-4757-9cd1...</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
      <td>1.620860e+09</td>
      <td>0.03230751556666692</td>
      <td>389971968</td>
      <td>1.9291393691359602</td>
      <td>14560608256</td>
      <td>1.9614468847026272</td>
      <td>14950580224</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="inspecting-the-container-dataset">
<h2>Inspecting the Container Dataset<a class="headerlink" href="#inspecting-the-container-dataset" title="Permalink to this headline">¶</a></h2>
<p>We have 19 different features in container dataset. At first, we explored to see the distribution of <code class="docutils literal notranslate"><span class="pre">first_Command</span></code>, <code class="docutils literal notranslate"><span class="pre">first_arg</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">summary</span></code> in the dataset.</p>
<p>Checking different features in the dataset,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cont</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 456825 entries, 0 to 456824
Data columns (total 18 columns):
 #   Column                                  Non-Null Count   Dtype
---  ------                                  --------------   -----
 0   cluster_id                              456825 non-null  object
 1   namespace                               456825 non-null  object
 2   shape                                   456825 non-null  object
 3   shape_instances                         456825 non-null  int64
 4   image_id                                456825 non-null  object
 5   first_command                           267122 non-null  object
 6   first_arg                               328832 non-null  object
 7   init_container                          456825 non-null  bool
 8   archive_path                            456825 non-null  object
 9   name                                    269715 non-null  object
 10  summary                                 269710 non-null  object
 11  timestamp                               422041 non-null  float64
 12  value_workload:cpu_usage_cores:sum      287795 non-null  object
 13  value_workload:memory_usage_bytes:sum   280825 non-null  object
 14  value_openshift:cpu_usage_cores:sum     287072 non-null  object
 15  value_openshift:memory_usage_bytes:sum  280825 non-null  object
 16  value_cluster:cpu_usage_cores:sum       414138 non-null  object
 17  value_cluster:memory_usage_bytes:sum    422041 non-null  object
dtypes: bool(1), float64(1), int64(1), object(15)
memory usage: 63.2+ MB
</pre></div>
</div>
</div>
</div>
<p>From the above info, we see that there are certain features which containes the missing values. To visualise the missing values in the dataset. We take the help of <code class="docutils literal notranslate"><span class="pre">missingno</span></code> packages. Some of the key points from the msno dataset are.</p>
<ul class="simple">
<li><p>Features  like <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code>, <code class="docutils literal notranslate"><span class="pre">namespace</span></code>, <code class="docutils literal notranslate"><span class="pre">shape</span></code>, <code class="docutils literal notranslate"><span class="pre">shape_instances</span></code>, <code class="docutils literal notranslate"><span class="pre">image_id</span></code>, <code class="docutils literal notranslate"><span class="pre">init_container</span></code>, <code class="docutils literal notranslate"><span class="pre">archive_path</span></code> does not have any missing values.</p></li>
<li><p>first_command and first argument have missing values.</p></li>
<li><p>We could not map all the image_id from the Pyxis database, the results is clearly seen in the distribution of missing values in the dataset.</p></li>
<li><p>Values extracted from the telemetry also have missing values because we could not extract the information from the telemetry for the given <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code> from the insight operator archive.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">msno</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">df_cont</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f7543506d00&gt;
</pre></div>
</div>
<img alt="../_images/EDA_insight_workload_data_39_1.png" src="../_images/EDA_insight_workload_data_39_1.png" />
</div>
</div>
<p>Creating a report using the dataprep package and saving it as a html file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;summary&quot;</span><span class="p">,</span> <span class="s2">&quot;first_command&quot;</span><span class="p">,</span> <span class="s2">&quot;first_arg&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cont_columns</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span>
        <span class="n">y</span><span class="o">=</span><span class="n">df_cont</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="mi">1</span><span class="p">:],</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df_cont</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
        <span class="n">order</span><span class="o">=</span><span class="n">df_cont</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;rainbow&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_41_0.png" src="../_images/EDA_insight_workload_data_41_0.png" />
<img alt="../_images/EDA_insight_workload_data_41_1.png" src="../_images/EDA_insight_workload_data_41_1.png" />
<img alt="../_images/EDA_insight_workload_data_41_2.png" src="../_images/EDA_insight_workload_data_41_2.png" />
<img alt="../_images/EDA_insight_workload_data_41_3.png" src="../_images/EDA_insight_workload_data_41_3.png" />
</div>
</div>
<p>The distribution plots for top 20 <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">summary</span></code>, <code class="docutils literal notranslate"><span class="pre">first_command</span></code> and <code class="docutils literal notranslate"><span class="pre">first_arg</span></code> shows that the product <code class="docutils literal notranslate"><span class="pre">openshift/ose-kube-rbac-proxy</span></code> has the highest count of all. SImilarly, from the summary, we can see that Red Hat UBI image has the maximum count. Furthermore, we can also see that certain commands and arguments are present in high amount in the container dataset.</p>
</div>
<div class="section" id="inspecting-the-image-layer-dataset">
<h2>Inspecting the Image layer dataset<a class="headerlink" href="#inspecting-the-image-layer-dataset" title="Permalink to this headline">¶</a></h2>
<p>We have 17 different features in image_layers dataset. At first, we explored to see the distribution of <code class="docutils literal notranslate"><span class="pre">first_Command</span></code>, <code class="docutils literal notranslate"><span class="pre">first_arg</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">summary</span></code> in the dataset.</p>
<p>The different features in the dataset are listed below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_image</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 47368 entries, 0 to 47367
Data columns (total 16 columns):
 #   Column                                  Non-Null Count  Dtype
---  ------                                  --------------  -----
 0   cluster_id                              47368 non-null  object
 1   image_id                                47368 non-null  object
 2   layer_image_id                          47368 non-null  object
 3   layer_image_level                       47368 non-null  int64
 4   first_command                           34038 non-null  object
 5   first_arg                               41209 non-null  object
 6   archive_path                            47368 non-null  object
 7   name                                    27524 non-null  object
 8   summary                                 27524 non-null  object
 9   timestamp                               45186 non-null  float64
 10  value_workload:cpu_usage_cores:sum      30771 non-null  object
 11  value_workload:memory_usage_bytes:sum   30137 non-null  object
 12  value_openshift:cpu_usage_cores:sum     30681 non-null  object
 13  value_openshift:memory_usage_bytes:sum  30137 non-null  object
 14  value_cluster:cpu_usage_cores:sum       44351 non-null  object
 15  value_cluster:memory_usage_bytes:sum    45186 non-null  object
dtypes: float64(1), int64(1), object(14)
memory usage: 6.1+ MB
</pre></div>
</div>
</div>
</div>
<p>Similar to the container dataset. From the above info, we see that there are certain features which containes the missing values. To visualise the missing values in the dataset. We take the help of <code class="docutils literal notranslate"><span class="pre">missingno</span></code> packages. Some of the key points from the msno dataset are.</p>
<ul class="simple">
<li><p>Features  like <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code>, <code class="docutils literal notranslate"><span class="pre">image_id</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_image_id</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_image_level</span></code>, <code class="docutils literal notranslate"><span class="pre">archive_path</span></code> does not have any missing values.</p></li>
<li><p>first_command and first argument have missing values.</p></li>
<li><p>We could not map all the image_id from the Pyxis database, the results is clearly seen in the distribution of missing values in the dataset.</p></li>
<li><p>Values extracted from the telemetry also have missing values because we could not extract the information from the telemetry for the given <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code> from the insight operator archive.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">msno</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">df_image</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f743ebd0640&gt;
</pre></div>
</div>
<img alt="../_images/EDA_insight_workload_data_48_1.png" src="../_images/EDA_insight_workload_data_48_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;summary&quot;</span><span class="p">,</span> <span class="s2">&quot;first_command&quot;</span><span class="p">,</span> <span class="s2">&quot;first_arg&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">image_columns</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span>
        <span class="n">y</span><span class="o">=</span><span class="n">df_image</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="mi">1</span><span class="p">:],</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df_image</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
        <span class="n">order</span><span class="o">=</span><span class="n">df_image</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;rainbow&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_49_0.png" src="../_images/EDA_insight_workload_data_49_0.png" />
<img alt="../_images/EDA_insight_workload_data_49_1.png" src="../_images/EDA_insight_workload_data_49_1.png" />
<img alt="../_images/EDA_insight_workload_data_49_2.png" src="../_images/EDA_insight_workload_data_49_2.png" />
<img alt="../_images/EDA_insight_workload_data_49_3.png" src="../_images/EDA_insight_workload_data_49_3.png" />
</div>
</div>
<p>The distribution plots for top 20 <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">summary</span></code>, <code class="docutils literal notranslate"><span class="pre">first_command</span></code> and <code class="docutils literal notranslate"><span class="pre">first_arg</span></code> shows that the image <code class="docutils literal notranslate"><span class="pre">openshift/ose-cli-artifacts</span></code> has the highest count of all. SImilarly, from the summary, we can see that Red Hat UBI image has the maximum count. Furthermore, we can also see that certain commands and arguments are present in high amount in the image layers dataset.</p>
</div>
<hr class="docutils" />
<div class="section" id="some-faqs">
<h2>Some FAQs<a class="headerlink" href="#some-faqs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-many-unique-image-name-are-there-in-image-layer-dataset-and-container-dataset">
<h3>How many unique image name are there in image layer dataset and container dataset?<a class="headerlink" href="#how-many-unique-image-name-are-there-in-image-layer-dataset-and-container-dataset" title="Permalink to this headline">¶</a></h3>
<p>For the image layer dataset, the list of unique product name are listed below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_image</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;openshift/ose-cli-artifacts&#39; &#39;openshift/ose-cli&#39;
 &#39;openshift/ose-oauth-proxy&#39; nan &#39;rhel8/postgresql-12&#39;
 &#39;rhscl/postgresql-10-rhel7&#39; &#39;rhel8/redis-5&#39; &#39;rhel8/postgresql-10&#39;
 &#39;rhscl/mongodb-36-rhel7&#39; &#39;openshift/ose-tests&#39;
 &#39;openshift/ose-must-gather&#39; &#39;jboss-amq-6/amq63-openshift&#39;
 &#39;3scale-amp2/system-rhel7&#39; &#39;3scale-amp2/apicast-gateway-rhel8&#39;
 &#39;rhscl/mysql-57-rhel7&#39; &#39;rhscl/redis-32-rhel7&#39; &#39;3scale-amp2/backend-rhel7&#39;
 &#39;3scale-amp2/memcached-rhel7&#39; &#39;3scale-amp2/zync-rhel7&#39; &#39;rhel8/mysql-80&#39;
 &#39;openshift/ose-jenkins&#39; &#39;ubi8/ruby-27&#39; &#39;openshift/ose-tools&#39;
 &#39;ubi8/dotnet-50&#39; &#39;openshift/ose-grafana&#39; &#39;rhel8/httpd-24&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;The number of unique image name extracted for image layer dataset is :&quot;</span><span class="p">,</span>
    <span class="n">df_image</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The number of unique image name extracted for image layer dataset is : 25
</pre></div>
</div>
</div>
</div>
<p>For the container dataset, the list of unique product names are list below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_cont</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;openshift/ose-kube-rbac-proxy&#39;
 &#39;openshift/ose-multus-admission-controller&#39; &#39;openshift/ose-multus-cni&#39;
 &#39;openshift/ose-egress-router-cni&#39;
 &#39;openshift/ose-container-networking-plugins&#39;
 &#39;openshift/ose-multus-route-override-cni&#39;
 &#39;openshift/ose-multus-whereabouts-ipam-cni&#39;
 &#39;openshift/ose-network-metrics-daemon&#39;
 &#39;openshift/ose-cluster-config-operator&#39; nan
 &#39;openshift/ose-operator-marketplace&#39; &#39;openshift/ose-etcd&#39;
 &#39;openshift/ose-hyperkube&#39; &#39;openshift/ose-cluster-kube-scheduler-operator&#39;
 &#39;openshift/ose-cluster-storage-operator&#39;
 &#39;openshift/ose-csi-snapshot-controller&#39;
 &#39;openshift/ose-cluster-csi-snapshot-controller-operator&#39;
 &#39;openshift/ose-csi-snapshot-validation-webhook&#39;
 &#39;openshift/ose-oauth-server&#39;
 &#39;openshift/ose-kube-storage-version-migrator&#39;
 &#39;openshift/ose-cluster-policy-controller&#39;
 &#39;openshift/ose-cluster-kube-controller-manager-operator&#39;
 &#39;openshift/ose-service-ca-operator&#39;
 &#39;openshift/ose-operator-lifecycle-manager&#39;
 &#39;openshift/ose-cloud-credential-operator&#39;
 &#39;openshift/ose-cluster-network-operator&#39; &#39;openshift/ose-coredns&#39;
 &#39;openshift/ose-cli&#39; &#39;openshift/ose-cluster-ingress-operator&#39;
 &#39;openshift/ose-oauth-apiserver&#39; &#39;openshift/ose-console-operator&#39;
 &#39;openshift/ose-insights-operator&#39; &#39;openshift/ose-cluster-dns-operator&#39;
 &#39;openshift/ose-cluster-node-tuning-operator&#39;
 &#39;openshift/ose-cluster-samples-operator&#39;
 &#39;openshift/ose-cluster-kube-apiserver-operator&#39;
 &#39;openshift/ose-cluster-machine-approver&#39;
 &#39;openshift/ose-cluster-kube-storage-version-migrator-operator&#39;
 &#39;openshift/ose-cluster-etcd-operator&#39; &#39;rhacm2/multicloud-manager-rhel8&#39;
 &#39;openshift/ose-haproxy-router&#39;
 &#39;openshift/ose-cluster-openshift-controller-manager-operator&#39;
 &#39;openshift/ose-cluster-autoscaler-operator&#39;
 &#39;openshift/ose-cluster-baremetal-operator&#39;
 &#39;openshift/ose-machine-api-operator&#39;
 &#39;openshift/ose-cluster-authentication-operator&#39;
 &#39;openshift/ose-machine-config-operator&#39; &#39;openshift/ose-oauth-proxy&#39;
 &#39;openshift/ose-cluster-openshift-apiserver-operator&#39;
 &#39;openshift/ose-prometheus-alertmanager&#39;
 &#39;openshift/ose-prometheus-config-reloader&#39;
 &#39;openshift/ose-prom-label-proxy&#39;
 &#39;openshift/ose-cluster-monitoring-operator&#39; &#39;openshift/ose-grafana&#39;
 &#39;openshift/ose-kube-state-metrics&#39;
 &#39;openshift/ose-prometheus-node-exporter&#39;
 &#39;openshift/ose-openshift-state-metrics&#39;
 &#39;openshift/ose-k8s-prometheus-adapter&#39; &#39;openshift/ose-prometheus&#39;
 &#39;openshift/ose-thanos&#39; &#39;openshift/ose-prometheus-operator&#39;
 &#39;openshift/ose-telemeter&#39; &#39;openshift/ose-openshift-apiserver&#39;
 &#39;openshift/ose-cluster-image-registry-operator&#39;
 &#39;openshift/ose-docker-registry&#39;
 &#39;openshift/ose-openshift-controller-manager&#39; &#39;openshift/ose-console&#39;
 &#39;openshift/ose-cli-artifacts&#39; &#39;rhacm2/registration-rhel8-operator&#39;
 &#39;rhacm2/registration-rhel8&#39; &#39;rhacm2/work-rhel8&#39; &#39;openshift/ose-sdn&#39;
 &#39;openshift/ose-ovn-kubernetes&#39;
 &#39;openshift/ose-baremetal-machine-controllers&#39;
 &#39;openshift/ose-ironic-inspector&#39; &#39;openshift/ose-baremetal-operator&#39;
 &#39;openshift/ose-ironic-ipa-downloader&#39;
 &#39;openshift/ose-ironic-machine-os-downloader&#39;
 &#39;openshift/ose-baremetal-runtimecfg&#39;
 &#39;openshift/ose-keepalived-ipfailover&#39; &#39;openshift/ose-ironic&#39;
 &#39;rhacm2/multicluster-operators-subscription-rhel8&#39;
 &#39;rhacm2/klusterlet-addon-lease-controller-rhel8&#39;
 &#39;rhacm2/iam-policy-controller-rhel8&#39;
 &#39;rhacm2/config-policy-controller-rhel8&#39; &#39;rhacm2/search-collector-rhel8&#39;
 &#39;rhscl/postgresql-10-rhel7&#39; &#39;rhacm2/application-ui-rhel8&#39;
 &#39;rhacm2/cert-manager-controller-rhel8&#39;
 &#39;rhacm2/clusterlifecycle-state-metrics-rhel8&#39; &#39;rhacm2/console-rhel8&#39;
 &#39;rhacm2/console-api-rhel8&#39; &#39;rhacm2/console-header-rhel8&#39;
 &#39;rhacm2/grc-ui-rhel8&#39; &#39;rhacm2/openshift-hive-rhel7&#39;
 &#39;rhacm2/endpoint-rhel8-operator&#39; &#39;rhacm2/rcm-controller-rhel8&#39;
 &#39;rhacm2/multicluster-observability-rhel8-operator&#39;
 &#39;rhacm2/multicluster-operators-application-rhel8&#39;
 &#39;rhacm2/multicluster-operators-channel-rhel8&#39;
 &#39;rhacm2/multicluster-operators-deployable-rhel8&#39;
 &#39;rhacm2/multiclusterhub-rhel8&#39; &#39;rhacm2/search-rhel8&#39;
 &#39;rhacm2/redisgraph-tls-rhel8&#39; &#39;rhacm2/search-ui-rhel8&#39;
 &#39;rhacm2/submariner-addon-rhel8&#39; &#39;openshift/compliance-operator&#39;
 &#39;openshift-pipelines-tech-preview/pipelines-operator-proxy-rhel8&#39;
 &#39;openshift-pipelines-tech-preview/pipelines-controller-rhel8&#39;
 &#39;openshift-pipelines-tech-preview/pipelines-triggers-controller-rhel8&#39;
 &#39;openshift-pipelines-tech-preview/pipelines-triggers-webhook-rhel8&#39;
 &#39;quay/quay-container-security-operator-rhel8&#39;
 &#39;container-native-virtualization/virt-cdi-operator&#39;
 &#39;container-native-virtualization/hyperconverged-cluster-operator&#39;
 &#39;container-native-virtualization/node-maintenance-operator&#39;
 &#39;container-native-virtualization/virt-operator&#39;
 &#39;container-native-virtualization/vm-import-operator-rhel8&#39;
 &#39;container-native-virtualization/virt-cdi-uploadproxy&#39;
 &#39;container-native-virtualization/cnv-containernetworking-plugins&#39;
 &#39;container-native-virtualization/kubemacpool&#39;
 &#39;container-native-virtualization/kubevirt-cpu-node-labeller&#39;
 &#39;container-native-virtualization/kubevirt-kvm-info-nfd-plugin&#39;
 &#39;container-native-virtualization/kubevirt-cpu-model-nfd-plugin&#39;
 &#39;container-native-virtualization/kubernetes-nmstate-handler-rhel8&#39;
 &#39;container-native-virtualization/virt-api&#39;
 &#39;container-native-virtualization/virt-controller&#39;
 &#39;container-native-virtualization/virt-handler&#39;
 &#39;container-native-virtualization/vm-import-controller-rhel8&#39;
 &#39;openshift/ose-csi-external-attacher&#39; &#39;openshift/ose-csi-livenessprobe&#39;
 &#39;openshift/ose-csi-external-provisioner&#39;
 &#39;openshift/ose-csi-external-resizer&#39;
 &#39;openshift/ose-csi-external-snapshotter&#39;
 &#39;openshift/ose-csi-node-driver-registrar&#39;
 &#39;amq7/amq-streams-rhel7-operator&#39; &#39;openshift/ose-gcp-machine-controllers&#39;
 &#39;openshift/ose-gcp-pd-csi-driver&#39;
 &#39;openshift/ose-gcp-pd-csi-driver-operator&#39;
 &#39;openshift/ose-local-storage-diskmaker&#39;
 &#39;openshift/ose-local-storage-operator&#39; &#39;rhacm2/grc-ui-api-rhel8&#39;
 &#39;rhacm2/governance-policy-propagator-rhel8&#39;
 &#39;rhacm2/klusterlet-addon-controller-rhel8&#39;
 &#39;rhacm2/managedcluster-import-controller-rhel8&#39;
 &#39;rhacm2/provider-credential-controller-rhel8&#39;
 &#39;rhacm2/search-aggregator-rhel8&#39; &#39;rhacm2/cert-policy-controller-rhel8&#39;
 &#39;rhacm2/governance-policy-template-sync-rhel8&#39;
 &#39;rhacm2/governance-policy-spec-sync-rhel8&#39;
 &#39;openshift/ose-aws-machine-controllers&#39;
 &#39;openshift/ose-aws-ebs-csi-driver&#39;
 &#39;openshift/ose-aws-ebs-csi-driver-operator&#39;
 &#39;openshift/ose-aws-pod-identity-webhook&#39;
 &#39;openshift/ose-cluster-logging-operator&#39;
 &#39;openshift-pipelines/pipelines-operator-proxy-rhel8&#39;
 &#39;openshift-pipelines/pipelines-controller-rhel8&#39;
 &#39;openshift-pipelines/pipelines-triggers-controller-rhel8&#39;
 &#39;openshift-pipelines/pipelines-triggers-core-interceptors-rhel8&#39;
 &#39;openshift-gitops-1/gitops-rhel8&#39; &#39;openshift-gitops-1/kam-delivery-rhel8&#39;
 &#39;openshift-pipelines/pipelines-rhel8-operator&#39; &#39;ansible-tower&#39;
 &#39;amq7/amq-streams-kafka-26-rhel7&#39; &#39;amq7/amq-streams-kafka-25-rhel7&#39;
 &#39;rhscl/mongodb-36-rhel7&#39; &#39;openshift-gitops-1-tech-preview/gitops-rhel8&#39;
 &#39;openshift/ose-ovirt-machine-controllers&#39;
 &#39;openshift-serverless-1/eventing-in-memory-channel-dispatcher-rhel8&#39;
 &#39;openshift-serverless-1/eventing-sugar-controller-rhel8&#39;
 &#39;openshift-pipelines-tech-preview/pipelines-webhook-rhel8&#39;
 &#39;openshift/ose-ovirt-csi-driver&#39;
 &#39;openshift/ose-ovirt-csi-driver-operator&#39;
 &#39;openshift-serverless-1/serving-activator-rhel8&#39;
 &#39;openshift-serverless-1/serving-autoscaler-hpa-rhel8&#39;
 &#39;openshift-serverless-1/serving-controller-rhel8&#39;
 &#39;openshift-serverless-1/serving-domain-mapping-webhook-rhel8&#39;
 &#39;codeready-workspaces/operator&#39;
 &#39;codeready-workspaces/pluginregistry-rhel8&#39; &#39;rhel8/postgresql-10&#39;
 &#39;container-native-virtualization/ovs-cni-marker&#39; &#39;rhel8/redis-5&#39;
 &#39;openshift-gitops-1-tech-preview/kam-delivery-rhel8&#39;
 &#39;openshift-serverless-1/ingress-rhel8-operator&#39;
 &#39;openshift-pipelines-tech-preview/pipelines-rhel8-operator&#39;
 &#39;Seldon Operator&#39; &#39;openshift/ose-csi-driver-manila-operator&#39;
 &#39;openshift/ose-openstack-cinder-csi-driver&#39;
 &#39;openshift/ose-openstack-cinder-csi-driver-operator&#39;
 &#39;openshift/ose-openstack-machine-controllers&#39; &#39;openshift/ose-kuryr-cni&#39;
 &#39;openshift/ose-kuryr-controller&#39; &#39;rhceph&#39; &#39;rhel8/postgresql-12&#39;
 &#39;rook-ceph&#39; &#39;openshift/ose-vsphere-problem-detector&#39;
 &#39;volume-replication-operator&#39; &#39;openshift/ose-sriov-cni&#39;
 &#39;openshift/ose-sriov-infiniband-cni&#39;
 &#39;openshift/ose-sriov-network-operator&#39; &#39;openshift/ose-ptp-operator&#39;
 &#39;openshift-logging/cluster-logging-rhel8-operator&#39;
 &#39;openshift-logging/fluentd-rhel8&#39;
 &#39;quay/quay-container-security-operator-container&#39; &#39;openshift/ose-tests&#39;
 &#39;openshift/ose-ironic-static-ip-manager&#39;
 &#39;openshift/ose-sriov-dp-admission-controller&#39;
 &#39;openshift/ose-sriov-network-webhook&#39; &#39;openshift/ose-must-gather&#39;
 &#39;openshift/ose-ptp&#39; &#39;openshift/ose-local-storage-static-provisioner&#39;
 &#39;distributed-tracing/jaeger-rhel8-operator&#39;
 &#39;amq7/amq-broker-rhel7-operator&#39; &#39;3scale-amp2/3scale-rhel7-operator&#39;
 &#39;3scale-amp2/apicast-gateway-rhel8&#39; &#39;3scale-amp2/backend-rhel7&#39;
 &#39;rhscl/redis-32-rhel7&#39; &#39;3scale-amp2/system-rhel7&#39;
 &#39;3scale-amp2/memcached-rhel7&#39; &#39;rhscl/mysql-57-rhel7&#39;
 &#39;3scale-amp2/zync-rhel7&#39; &#39;costmanagement-metrics-operator&#39;
 &#39;jboss-amq-6/amq63-openshift&#39; &#39;openshift/ose-csi-driver-nfs&#39;
 &#39;openshift/ose-csi-driver-manila&#39; &#39;openshift/ose-cluster-autoscaler&#39;
 &#39;openshift/ose-installer&#39; &#39;NVIDIA GPU Operator&#39;
 &#39;openshift/ose-cluster-nfd-operator&#39;
 &#39;openshift/ose-sriov-network-config-daemon&#39;
 &#39;openshift-sandboxed-containers-operator&#39; &#39;ubi8/ubi8-init&#39;
 &#39;openshift/ose-jenkins&#39; &#39;openshift/ose-operator-registry&#39;
 &#39;rhacm2/discovery-rhel8-operator&#39; &#39;rhacm2/multiclusterhub-repo-rhel8&#39;
 &#39;openshift/ose-vsphere-csi-driver&#39;
 &#39;openshift/ose-vsphere-csi-driver-syncer&#39;
 &#39;openshift/ose-vsphere-csi-driver-operator&#39;
 &#39;rhacm2/governance-policy-status-sync-rhel8&#39;
 &#39;openshift/ose-azure-machine-controllers&#39;
 &#39;openshift/ose-libvirt-machine-controllers&#39; &#39;ocs-registry&#39; &#39;cephcsi&#39;
 &#39;mcg-operator&#39; &#39;openshift/ose-tools&#39; &#39;openshift/ose-docker-builder&#39;
 &#39;openshift/ose-deployer&#39;
 &#39;openshift/ose-cluster-kube-descheduler-operator&#39;
 &#39;rhel7/couchbase-operator-admission&#39;
 &#39;container-native-virtualization/bridge-marker&#39;
 &#39;container-native-virtualization/virt-cdi-apiserver&#39;
 &#39;container-native-virtualization/virt-cdi-controller&#39;
 &#39;openshift-logging/elasticsearch6-rhel8&#39;
 &#39;openshift-logging/kibana6-rhel8&#39; &#39;openshift/ose-azure-disk-csi-driver&#39;
 &#39;openshift/ose-azure-disk-csi-driver-operator&#39; &#39;alertmanager&#39;
 &#39;ibm common service webhook&#39; &#39;ibm-events-operator&#39; &#39;ibm-postgresql&#39;
 &#39;collectd-exporter&#39; &#39;grafana&#39; &#39;kube-state-metrics&#39; &#39;must-gather-service&#39;
 &#39;openshift-compliance-content&#39; &#39;rhmtc/openshift-migration-controller&#39;
 &#39;rhmtc/openshift-migration-operator&#39; &#39;rhmtc/openshift-migration-velero&#39;
 &#39;rhmtc/openshift-migration-velero-plugin-for-aws&#39;
 &#39;rhmtc/openshift-migration-velero-plugin-for-gcp&#39;
 &#39;rhmtc/openshift-migration-velero-plugin-for-microsoft-azure&#39;
 &#39;rhscl/postgresql-96-rhel7&#39; &#39;openshift/ose-mdns-publisher&#39;
 &#39;amq7/amq-streams-rhel7-operator-metadata&#39; &#39;ubi8/ruby-27&#39;
 &#39;rhacm2/insights-client-rhel8&#39;
 &#39;rhacm2/multicluster-operators-placementrule-rhel8&#39;
 &#39;rhacm2/prometheus-alertmanager-rhel8&#39; &#39;openshift/ose-configmap-reloader&#39;
 &#39;rhacm2/grafana&#39; &#39;rhacm2/thanos-rhel7&#39;
 &#39;rhacm2/thanos-receive-controller-rhel8&#39;
 &#39;rhacm2/klusterlet-addon-operator-rhel8&#39;
 &#39;container-native-virtualization/hyperconverged-cluster-webhook-rhel8&#39;
 &#39;container-native-virtualization/virt-launcher&#39; &#39;ocs-operator&#39;
 &#39;container-native-virtualization/kubevirt-ssp-operator&#39;
 &#39;openshift-logging/elasticsearch-rhel8-operator&#39;
 &#39;openshift-logging/elasticsearch-proxy-rhel8&#39;
 &#39;rhacm2/endpoint-component-rhel8-operator&#39;
 &#39;openshift-gitops-1-tech-preview/argocd-rhel8&#39;
 &#39;openshift-pipelines/pipelines-webhook-rhel8&#39;
 &#39;openshift-pipelines/pipelines-triggers-webhook-rhel8&#39;
 &#39;openshift-gitops-1-tech-preview/gitops-rhel8-operator&#39;
 &#39;openshift-service-mesh/pilot-rhel8&#39; &#39;openshift-service-mesh/kiali-rhel8&#39;
 &#39;openshift-service-mesh/istio-cni-rhel8&#39;
 &#39;openshift-service-mesh/kiali-rhel8-operator&#39;
 &#39;container-native-virtualization/cluster-network-addons-operator&#39;
 &#39;Elastic Cloud on Kubernetes&#39;
 &#39;container-native-virtualization/virt-cdi-importer&#39;
 &#39;openshift-serverless-1/eventing-webhook-rhel8&#39;
 &#39;openshift-serverless-1/eventing-in-memory-channel-controller-rhel8&#39;
 &#39;openshift-serverless-1/eventing-mtchannel-broker-rhel8&#39;
 &#39;openshift-serverless-1/eventing-mtbroker-ingress-rhel8&#39;
 &#39;openshift-serverless-1/serving-domain-mapping-rhel8&#39;
 &#39;openshift-serverless-1/knative-rhel8-operator&#39;
 &#39;openshift-serverless-1/serverless-rhel8-operator&#39;
 &#39;openshift-serverless-1/kourier-control-rhel8&#39;
 &#39;openshift-service-mesh/proxyv2-rhel8&#39;
 &#39;openshift4/performance-addon-rhel8-operator&#39; &#39;rhel8/mysql-80&#39;
 &#39;NGINX Ingress Operator&#39; &#39;quay/quay-operator-rhel8&#39; &#39;Calico Operator&#39;
 &#39;openshift/ose-clusterresourceoverride-rhel8-operator&#39;
 &#39;openshift-service-mesh/grafana-rhel8&#39;
 &#39;openshift-service-mesh/galley-rhel8&#39;
 &#39;openshift-service-mesh/kiali-rhel7&#39;
 &#39;openshift/ose-logging-elasticsearch6&#39;
 &#39;openshift/ose-template-service-broker&#39;
 &#39;openshift/ose-template-service-broker-operator&#39;
 &#39;container-native-virtualization/hostpath-provisioner-rhel8-operator&#39;
 &#39;container-native-virtualization/ovs-cni-plugin&#39;
 &#39;F5 BIG-IP Controller Operator&#39;
 &#39;openshift-service-mesh/istio-rhel8-operator&#39;
 &#39;openshift/ose-vertical-pod-autoscaler-rhel8-operator&#39;
 &#39;Cloud Native PostgreSQL Operator&#39; &#39;mcr.microsoft.com/mssql/rhel8/server&#39;
 &#39;openshift-logging/elasticsearch-operator-bundle&#39;
 &#39;openshift-logging/cluster-logging-operator-bundle&#39;
 &#39;openshift-pipelines/pipelines-triggers-eventlistenersink-rhel8&#39;
 &#39;codeready-workspaces/devfileregistry-rhel8&#39;
 &#39;rh-sso-7/sso74-openj9-openshift-rhel8&#39; &#39;ubi8&#39;
 &#39;openshift-service-mesh/prometheus-rhel8&#39; &#39;rhel8/httpd-24&#39; &#39;Cilium&#39;
 &#39;ansible-automation-platform/platform-resource-rhel7-operator&#39; &#39;mcg-core&#39;
 &#39;openshift-serverless-1/eventing-mtping-rhel8&#39;
 &#39;openshift-serverless-1/serving-autoscaler-rhel8&#39;
 &#39;jboss-eap-7/eap73-rhel8-operator&#39;
 &#39;openshift/ose-sriov-network-device-plugin&#39;
 &#39;openshift/ose-local-storage-operator-bundle&#39; &#39;cert-manager controller&#39;
 &#39;cert-manager cainjector&#39; &#39;cert-manager webhook&#39;
 &#39;openshift-serverless-1/serving-queue-rhel8&#39;
 &#39;openshift-serverless-1-tech-preview/eventing-kafka-channel-controller-rhel8&#39;
 &#39;ubi8/dotnet-50&#39; &#39;ocp-tools-4/odo-init-image&#39;
 &#39;codeready-workspaces/server-rhel8&#39; &#39;rhel8/postgresql-96&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;The number of unique image name extracted for image layer dataset is :&quot;</span><span class="p">,</span>
    <span class="n">df_cont</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The number of unique image name extracted for image layer dataset is : 353
</pre></div>
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="popular-images-and-groups-of-images-occuring-in-a-cluster">
<h3><strong>Popular images and groups of images occuring in a cluster</strong><a class="headerlink" href="#popular-images-and-groups-of-images-occuring-in-a-cluster" title="Permalink to this headline">¶</a></h3>
<p>To address this question, we try to find the correlation between different image sha’s and the cluster_id’s see if there are any images that occur together. We make use of the crosstab function, which builds a cross tabulation table that can show the frequency with which certain groups of data appears.</p>
<p><strong>Finding the cross tabulation for differnt sha’s of image_id with different cluster_id’s</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d1</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;image_id&quot;</span><span class="p">]</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">]</span>

<span class="n">crosstab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">crosstab</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f744bb75910&gt;
</pre></div>
</div>
<img alt="../_images/EDA_insight_workload_data_64_1.png" src="../_images/EDA_insight_workload_data_64_1.png" />
</div>
</div>
<p>From the above heat map, we can qualitatively see that, there are some group of image_id’s occuring together in a clusters. Next, we will replace image_id with corresponding product name and see if there are any products that occur together in a cluster.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d3</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="n">d4</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">]</span>

<span class="n">crosstab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">d3</span><span class="p">,</span> <span class="n">d4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">crosstab</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f744bb758b0&gt;
</pre></div>
</div>
<img alt="../_images/EDA_insight_workload_data_66_1.png" src="../_images/EDA_insight_workload_data_66_1.png" />
</div>
</div>
<p>The heat map shows more clearer view of the distribution of products across different clusters. We observe that image name such as, <em><strong>openshift/ose-cli-artifacts</strong></em>, <em><strong>openshift/ose-cli</strong></em>, <em><strong>openshift/ose-oauth-proxy</strong></em> are present in alomost all clusters. The lighter patches shows us the image name present in cluster_ids. For example, for the image name, <code class="docutils literal notranslate"><span class="pre">rhscl/mysql-57-rhel7</span></code>, <code class="docutils literal notranslate"><span class="pre">rhscl/postgresql-10-rhel7</span></code>, and <code class="docutils literal notranslate"><span class="pre">rhscl/redis-32-rhel7</span></code> are found to occur together.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s0</span> <span class="o">=</span> <span class="n">df_image</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">s0</span> <span class="o">=</span> <span class="n">s0</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">s0</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6</th>
      <td>openshift/ose-cli</td>
      <td>1805</td>
    </tr>
    <tr>
      <th>11</th>
      <td>openshift/ose-oauth-proxy</td>
      <td>1801</td>
    </tr>
    <tr>
      <th>7</th>
      <td>openshift/ose-cli-artifacts</td>
      <td>1799</td>
    </tr>
    <tr>
      <th>17</th>
      <td>rhel8/postgresql-12</td>
      <td>50</td>
    </tr>
    <tr>
      <th>10</th>
      <td>openshift/ose-must-gather</td>
      <td>13</td>
    </tr>
    <tr>
      <th>13</th>
      <td>openshift/ose-tools</td>
      <td>13</td>
    </tr>
    <tr>
      <th>19</th>
      <td>rhscl/mongodb-36-rhel7</td>
      <td>3</td>
    </tr>
    <tr>
      <th>15</th>
      <td>rhel8/mysql-80</td>
      <td>3</td>
    </tr>
    <tr>
      <th>24</th>
      <td>ubi8/ruby-27</td>
      <td>2</td>
    </tr>
    <tr>
      <th>21</th>
      <td>rhscl/postgresql-10-rhel7</td>
      <td>2</td>
    </tr>
    <tr>
      <th>9</th>
      <td>openshift/ose-jenkins</td>
      <td>2</td>
    </tr>
    <tr>
      <th>14</th>
      <td>rhel8/httpd-24</td>
      <td>2</td>
    </tr>
    <tr>
      <th>23</th>
      <td>ubi8/dotnet-50</td>
      <td>1</td>
    </tr>
    <tr>
      <th>22</th>
      <td>rhscl/redis-32-rhel7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>20</th>
      <td>rhscl/mysql-57-rhel7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>18</th>
      <td>rhel8/redis-5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>0</th>
      <td>3scale-amp2/apicast-gateway-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16</th>
      <td>rhel8/postgresql-10</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3scale-amp2/backend-rhel7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>openshift/ose-grafana</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If we plot the image name with corresponding number of cluster_id it is present in. We have,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">s0</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend_out</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mf">3.3</span><span class="p">,</span>
    <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">s0</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_70_0.png" src="../_images/EDA_insight_workload_data_70_0.png" />
</div>
</div>
<hr class="docutils" />
<p>Performing the similar actions for container dataset image id. We first see the distribution of image_id in different cluster_id.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d5</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[</span><span class="s2">&quot;image_id&quot;</span><span class="p">]</span>
<span class="n">d6</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">]</span>

<span class="n">crosstab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">d5</span><span class="p">,</span> <span class="n">d6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">crosstab</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f744bbf74c0&gt;
</pre></div>
</div>
<img alt="../_images/EDA_insight_workload_data_73_1.png" src="../_images/EDA_insight_workload_data_73_1.png" />
</div>
</div>
<p>The trend in not the same as that of image layer dataset. We do not see qualitatively, any group of image_id dominating the heatmap. Next, checking the distribution of image name for different cluster id.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d7</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="n">d8</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">]</span>

<span class="n">crosstab1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">d7</span><span class="p">,</span> <span class="n">d8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">crosstab1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f7449d37640&gt;
</pre></div>
</div>
<img alt="../_images/EDA_insight_workload_data_75_1.png" src="../_images/EDA_insight_workload_data_75_1.png" />
</div>
</div>
<p>Here, we do see a dominant product present in the heat map. Now, listing out the most common products name,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s1</span> <span class="o">=</span> <span class="n">df_cont</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">s1</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>167</th>
      <td>openshift/ose-cluster-node-tuning-operator</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>168</th>
      <td>openshift/ose-cluster-openshift-apiserver-oper...</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>157</th>
      <td>openshift/ose-cluster-kube-apiserver-operator</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>146</th>
      <td>openshift/ose-cloud-credential-operator</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>151</th>
      <td>openshift/ose-cluster-config-operator</td>
      <td>1848</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>There are total of 353 image names linked to the container dataset. Hence, we divide the  image name list into two parts. One related to <code class="docutils literal notranslate"><span class="pre">openshift</span></code> and other not related to <code class="docutils literal notranslate"><span class="pre">openshift</span></code>.</p>
<div class="section" id="extracting-the-list-of-openshift-related-repos-by-web-scraping">
<h4>Extracting the list of OpenShift related repos by web-scraping<a class="headerlink" href="#extracting-the-list-of-openshift-related-repos-by-web-scraping" title="Permalink to this headline">¶</a></h4>
<p>As per the suggestions from the ccx team, there are list of OpenShift repos which does not contain the word OpenShift in it. For example, <code class="docutils literal notranslate"><span class="pre">aws-ebs-csi-driver</span></code> is an OpenShift repo. Hence, if we filter out the list of repos based on word <code class="docutils literal notranslate"><span class="pre">OpenShift</span></code>, we may exclude those OpenShift repos which does not have the word <code class="docutils literal notranslate"><span class="pre">OpenShift</span></code> in them. Ivans Necas, from CCX team provided us with the list of <a class="reference external" href="https://openshift-release.apps.ci.l2s4.p1.openshiftapps.com/releasetag/4.8.1?from=4.8.0-rc.1">OpenShift repos</a>. In this section we extract the list of OpenShift repos from the link provided.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;https://openshift-release.apps.ci.l2s4.p1.openshiftapps.com/releasetag/4.8.1?from=4.8.0-rc.1&quot;</span>
<span class="p">)</span>
<span class="n">docs</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>
<span class="n">body</span> <span class="o">=</span> <span class="n">docs</span><span class="o">.</span><span class="n">body</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">word_list1</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">141</span><span class="p">):</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;container&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">)[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
    <span class="n">word</span> <span class="o">=</span> <span class="n">txt</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">word_list1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">word_list2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;container&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;h3&quot;</span><span class="p">)[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
    <span class="n">word</span> <span class="o">=</span> <span class="n">txt</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">word_list2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">openshift_list</span> <span class="o">=</span> <span class="n">word_list1</span> <span class="o">+</span> <span class="n">word_list2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">openshift_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>124
</pre></div>
</div>
</div>
</div>
<p>We have extracted list of OpenShift repos as mentioned in this <a class="reference external" href="https://openshift-release.apps.ci.l2s4.p1.openshiftapps.com/releasetag/4.8.1?from=4.8.0-rc.1">link</a>. Now, in the next section, we use the extracted list to filter out the OpenShift related and NOT related repos.</p>
</div>
</div>
<div class="section" id="top-50-image-name-related-to-openshift">
<h3>Top 50 image name related to OpenShift<a class="headerlink" href="#top-50-image-name-related-to-openshift" title="Permalink to this headline">¶</a></h3>
<p><strong>Filtering out the opensift related repos</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">openshift_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;openshift&quot;</span><span class="p">)</span>
<span class="n">rstr</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">openshift_list</span><span class="p">)</span>
<span class="n">new_s1_os</span> <span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="n">s1</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">rstr</span><span class="p">)]</span>
<span class="n">new_s1_os</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>167</th>
      <td>openshift/ose-cluster-node-tuning-operator</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>168</th>
      <td>openshift/ose-cluster-openshift-apiserver-oper...</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>157</th>
      <td>openshift/ose-cluster-kube-apiserver-operator</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>146</th>
      <td>openshift/ose-cloud-credential-operator</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>151</th>
      <td>openshift/ose-cluster-config-operator</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>211</th>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>163</th>
      <td>openshift/ose-cluster-machine-approver</td>
      <td>1848</td>
    </tr>
    <tr>
      <th>147</th>
      <td>openshift/ose-cluster-authentication-operator</td>
      <td>1847</td>
    </tr>
    <tr>
      <th>172</th>
      <td>openshift/ose-cluster-storage-operator</td>
      <td>1847</td>
    </tr>
    <tr>
      <th>152</th>
      <td>openshift/ose-cluster-csi-snapshot-controller-...</td>
      <td>1847</td>
    </tr>
    <tr>
      <th>188</th>
      <td>openshift/ose-csi-snapshot-controller</td>
      <td>1846</td>
    </tr>
    <tr>
      <th>189</th>
      <td>openshift/ose-csi-snapshot-validation-webhook</td>
      <td>1846</td>
    </tr>
    <tr>
      <th>169</th>
      <td>openshift/ose-cluster-openshift-controller-man...</td>
      <td>1845</td>
    </tr>
    <tr>
      <th>153</th>
      <td>openshift/ose-cluster-dns-operator</td>
      <td>1845</td>
    </tr>
    <tr>
      <th>234</th>
      <td>openshift/ose-openshift-apiserver</td>
      <td>1845</td>
    </tr>
    <tr>
      <th>178</th>
      <td>openshift/ose-coredns</td>
      <td>1845</td>
    </tr>
    <tr>
      <th>194</th>
      <td>openshift/ose-etcd</td>
      <td>1845</td>
    </tr>
    <tr>
      <th>144</th>
      <td>openshift/ose-cli</td>
      <td>1845</td>
    </tr>
    <tr>
      <th>161</th>
      <td>openshift/ose-cluster-kube-storage-version-mig...</td>
      <td>1843</td>
    </tr>
    <tr>
      <th>160</th>
      <td>openshift/ose-cluster-kube-scheduler-operator</td>
      <td>1843</td>
    </tr>
    <tr>
      <th>158</th>
      <td>openshift/ose-cluster-kube-controller-manager-...</td>
      <td>1843</td>
    </tr>
    <tr>
      <th>156</th>
      <td>openshift/ose-cluster-ingress-operator</td>
      <td>1843</td>
    </tr>
    <tr>
      <th>155</th>
      <td>openshift/ose-cluster-image-registry-operator</td>
      <td>1843</td>
    </tr>
    <tr>
      <th>201</th>
      <td>openshift/ose-insights-operator</td>
      <td>1843</td>
    </tr>
    <tr>
      <th>200</th>
      <td>openshift/ose-hyperkube</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>241</th>
      <td>openshift/ose-operator-marketplace</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>232</th>
      <td>openshift/ose-oauth-proxy</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>149</th>
      <td>openshift/ose-cluster-autoscaler-operator</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>228</th>
      <td>openshift/ose-multus-whereabouts-ipam-cni</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>154</th>
      <td>openshift/ose-cluster-etcd-operator</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>227</th>
      <td>openshift/ose-multus-route-override-cni</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>226</th>
      <td>openshift/ose-multus-cni</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>225</th>
      <td>openshift/ose-multus-admission-controller</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>223</th>
      <td>openshift/ose-machine-config-operator</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>222</th>
      <td>openshift/ose-machine-api-operator</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>213</th>
      <td>openshift/ose-kube-storage-version-migrator</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>177</th>
      <td>openshift/ose-container-networking-plugins</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>193</th>
      <td>openshift/ose-egress-router-cni</td>
      <td>1842</td>
    </tr>
    <tr>
      <th>165</th>
      <td>openshift/ose-cluster-network-operator</td>
      <td>1841</td>
    </tr>
    <tr>
      <th>230</th>
      <td>openshift/ose-network-metrics-daemon</td>
      <td>1841</td>
    </tr>
    <tr>
      <th>251</th>
      <td>openshift/ose-prometheus-node-exporter</td>
      <td>1840</td>
    </tr>
    <tr>
      <th>164</th>
      <td>openshift/ose-cluster-monitoring-operator</td>
      <td>1840</td>
    </tr>
    <tr>
      <th>170</th>
      <td>openshift/ose-cluster-policy-controller</td>
      <td>1840</td>
    </tr>
    <tr>
      <th>252</th>
      <td>openshift/ose-prometheus-operator</td>
      <td>1840</td>
    </tr>
    <tr>
      <th>231</th>
      <td>openshift/ose-oauth-apiserver</td>
      <td>1840</td>
    </tr>
    <tr>
      <th>235</th>
      <td>openshift/ose-openshift-controller-manager</td>
      <td>1840</td>
    </tr>
    <tr>
      <th>240</th>
      <td>openshift/ose-operator-lifecycle-manager</td>
      <td>1840</td>
    </tr>
    <tr>
      <th>256</th>
      <td>openshift/ose-service-ca-operator</td>
      <td>1840</td>
    </tr>
    <tr>
      <th>150</th>
      <td>openshift/ose-cluster-baremetal-operator</td>
      <td>1838</td>
    </tr>
    <tr>
      <th>171</th>
      <td>openshift/ose-cluster-samples-operator</td>
      <td>1836</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Plotting them with respect to cluster_id</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_s1_os50</span> <span class="o">=</span> <span class="n">new_s1_os</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">new_s1_os50</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend_out</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">new_s1_os50</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_90_0.png" src="../_images/EDA_insight_workload_data_90_0.png" />
</div>
</div>
<p><strong>Least 50 image name related to Openshift</strong></p>
<p>Now listing the least 50 image name related to openshift.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_s1_osl50</span> <span class="o">=</span> <span class="n">new_s1_os</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">new_s1_osl50</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>108</th>
      <td>openshift-serverless-1/eventing-mtchannel-brok...</td>
      <td>2</td>
    </tr>
    <tr>
      <th>90</th>
      <td>openshift-pipelines-tech-preview/pipelines-ope...</td>
      <td>2</td>
    </tr>
    <tr>
      <th>107</th>
      <td>openshift-serverless-1/eventing-mtbroker-ingre...</td>
      <td>2</td>
    </tr>
    <tr>
      <th>89</th>
      <td>openshift-pipelines-tech-preview/pipelines-con...</td>
      <td>2</td>
    </tr>
    <tr>
      <th>109</th>
      <td>openshift-serverless-1/eventing-mtping-rhel8</td>
      <td>2</td>
    </tr>
    <tr>
      <th>111</th>
      <td>openshift-serverless-1/eventing-webhook-rhel8</td>
      <td>2</td>
    </tr>
    <tr>
      <th>83</th>
      <td>openshift-logging/elasticsearch-operator-bundle</td>
      <td>2</td>
    </tr>
    <tr>
      <th>120</th>
      <td>openshift-serverless-1/serving-domain-mapping-...</td>
      <td>2</td>
    </tr>
    <tr>
      <th>74</th>
      <td>openshift-compliance-content</td>
      <td>2</td>
    </tr>
    <tr>
      <th>166</th>
      <td>openshift/ose-cluster-nfd-operator</td>
      <td>2</td>
    </tr>
    <tr>
      <th>208</th>
      <td>openshift/ose-jenkins</td>
      <td>2</td>
    </tr>
    <tr>
      <th>314</th>
      <td>rhacm2/prometheus-alertmanager-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>325</th>
      <td>rhacm2/thanos-receive-controller-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>326</th>
      <td>rhacm2/thanos-rhel7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>221</th>
      <td>openshift/ose-logging-elasticsearch6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>60</th>
      <td>grafana</td>
      <td>1</td>
    </tr>
    <tr>
      <th>66</th>
      <td>kube-state-metrics</td>
      <td>1</td>
    </tr>
    <tr>
      <th>275</th>
      <td>openshift4/performance-addon-rhel8-operator</td>
      <td>1</td>
    </tr>
    <tr>
      <th>115</th>
      <td>openshift-serverless-1/serverless-rhel8-operator</td>
      <td>1</td>
    </tr>
    <tr>
      <th>273</th>
      <td>openshift/ose-vsphere-csi-driver-syncer</td>
      <td>1</td>
    </tr>
    <tr>
      <th>272</th>
      <td>openshift/ose-vsphere-csi-driver-operator</td>
      <td>1</td>
    </tr>
    <tr>
      <th>271</th>
      <td>openshift/ose-vsphere-csi-driver</td>
      <td>1</td>
    </tr>
    <tr>
      <th>270</th>
      <td>openshift/ose-vertical-pod-autoscaler-rhel8-op...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>118</th>
      <td>openshift-serverless-1/serving-autoscaler-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>267</th>
      <td>openshift/ose-tests</td>
      <td>1</td>
    </tr>
    <tr>
      <th>266</th>
      <td>openshift/ose-template-service-broker-operator</td>
      <td>1</td>
    </tr>
    <tr>
      <th>265</th>
      <td>openshift/ose-template-service-broker</td>
      <td>1</td>
    </tr>
    <tr>
      <th>122</th>
      <td>openshift-serverless-1/serving-queue-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>123</th>
      <td>openshift-service-mesh/galley-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>126</th>
      <td>openshift-service-mesh/istio-rhel8-operator</td>
      <td>1</td>
    </tr>
    <tr>
      <th>261</th>
      <td>openshift/ose-sriov-network-device-plugin</td>
      <td>1</td>
    </tr>
    <tr>
      <th>127</th>
      <td>openshift-service-mesh/kiali-rhel7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>159</th>
      <td>openshift/ose-cluster-kube-descheduler-operator</td>
      <td>1</td>
    </tr>
    <tr>
      <th>173</th>
      <td>openshift/ose-clusterresourceoverride-rhel8-op...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>174</th>
      <td>openshift/ose-configmap-reloader</td>
      <td>1</td>
    </tr>
    <tr>
      <th>114</th>
      <td>openshift-serverless-1/kourier-control-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>113</th>
      <td>openshift-serverless-1/knative-rhel8-operator</td>
      <td>1</td>
    </tr>
    <tr>
      <th>105</th>
      <td>openshift-serverless-1/eventing-in-memory-chan...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>71</th>
      <td>ocp-tools-4/odo-init-image</td>
      <td>1</td>
    </tr>
    <tr>
      <th>64</th>
      <td>jboss-amq-6/amq63-openshift</td>
      <td>1</td>
    </tr>
    <tr>
      <th>299</th>
      <td>rhacm2/insights-client-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>70</th>
      <td>must-gather-service</td>
      <td>1</td>
    </tr>
    <tr>
      <th>295</th>
      <td>rhacm2/grafana</td>
      <td>1</td>
    </tr>
    <tr>
      <th>104</th>
      <td>openshift-serverless-1-tech-preview/eventing-k...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>75</th>
      <td>openshift-gitops-1-tech-preview/argocd-rhel8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>77</th>
      <td>openshift-gitops-1-tech-preview/gitops-rhel8-o...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>81</th>
      <td>openshift-logging/cluster-logging-operator-bundle</td>
      <td>1</td>
    </tr>
    <tr>
      <th>93</th>
      <td>openshift-pipelines-tech-preview/pipelines-tri...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>100</th>
      <td>openshift-pipelines/pipelines-triggers-eventli...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>102</th>
      <td>openshift-pipelines/pipelines-webhook-rhel8</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">new_s1_osl50</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend_out</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">new_s1_osl50</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_94_0.png" src="../_images/EDA_insight_workload_data_94_0.png" />
</div>
</div>
<hr class="docutils" />
<p>In the next section, we plot top 50 image name not related to <code class="docutils literal notranslate"><span class="pre">openshift</span></code>.</p>
<p><strong>Top 50 image name not related to Openshift</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_s1_nos</span> <span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="o">~</span><span class="n">s1</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">rstr</span><span class="p">)]</span>
<span class="n">new_s1_nos</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>319</th>
      <td>rhacm2/registration-rhel8-operator</td>
      <td>1065</td>
    </tr>
    <tr>
      <th>304</th>
      <td>rhacm2/multicloud-manager-rhel8</td>
      <td>1063</td>
    </tr>
    <tr>
      <th>318</th>
      <td>rhacm2/registration-rhel8</td>
      <td>1062</td>
    </tr>
    <tr>
      <th>327</th>
      <td>rhacm2/work-rhel8</td>
      <td>1048</td>
    </tr>
    <tr>
      <th>333</th>
      <td>rhel8/postgresql-12</td>
      <td>51</td>
    </tr>
    <tr>
      <th>43</th>
      <td>container-native-virtualization/node-maintenan...</td>
      <td>51</td>
    </tr>
    <tr>
      <th>328</th>
      <td>rhceph</td>
      <td>49</td>
    </tr>
    <tr>
      <th>347</th>
      <td>rook-ceph</td>
      <td>49</td>
    </tr>
    <tr>
      <th>37</th>
      <td>container-native-virtualization/kubemacpool</td>
      <td>46</td>
    </tr>
    <tr>
      <th>38</th>
      <td>container-native-virtualization/kubernetes-nms...</td>
      <td>45</td>
    </tr>
    <tr>
      <th>57</th>
      <td>container-native-virtualization/vm-import-oper...</td>
      <td>42</td>
    </tr>
    <tr>
      <th>53</th>
      <td>container-native-virtualization/virt-handler</td>
      <td>39</td>
    </tr>
    <tr>
      <th>52</th>
      <td>container-native-virtualization/virt-controller</td>
      <td>39</td>
    </tr>
    <tr>
      <th>31</th>
      <td>container-native-virtualization/bridge-marker</td>
      <td>38</td>
    </tr>
    <tr>
      <th>36</th>
      <td>container-native-virtualization/hyperconverged...</td>
      <td>30</td>
    </tr>
    <tr>
      <th>54</th>
      <td>container-native-virtualization/virt-launcher</td>
      <td>28</td>
    </tr>
    <tr>
      <th>47</th>
      <td>container-native-virtualization/virt-cdi-apise...</td>
      <td>26</td>
    </tr>
    <tr>
      <th>48</th>
      <td>container-native-virtualization/virt-cdi-contr...</td>
      <td>24</td>
    </tr>
    <tr>
      <th>321</th>
      <td>rhacm2/search-collector-rhel8</td>
      <td>24</td>
    </tr>
    <tr>
      <th>310</th>
      <td>rhacm2/multicluster-operators-subscription-rhel8</td>
      <td>22</td>
    </tr>
    <tr>
      <th>35</th>
      <td>container-native-virtualization/hyperconverged...</td>
      <td>19</td>
    </tr>
    <tr>
      <th>55</th>
      <td>container-native-virtualization/virt-operator</td>
      <td>18</td>
    </tr>
    <tr>
      <th>68</th>
      <td>mcg-operator</td>
      <td>17</td>
    </tr>
    <tr>
      <th>46</th>
      <td>container-native-virtualization/virt-api</td>
      <td>17</td>
    </tr>
    <tr>
      <th>298</th>
      <td>rhacm2/iam-policy-controller-rhel8</td>
      <td>15</td>
    </tr>
    <tr>
      <th>284</th>
      <td>rhacm2/config-policy-controller-rhel8</td>
      <td>14</td>
    </tr>
    <tr>
      <th>301</th>
      <td>rhacm2/klusterlet-addon-lease-controller-rhel8</td>
      <td>14</td>
    </tr>
    <tr>
      <th>59</th>
      <td>distributed-tracing/jaeger-rhel8-operator</td>
      <td>13</td>
    </tr>
    <tr>
      <th>50</th>
      <td>container-native-virtualization/virt-cdi-operator</td>
      <td>13</td>
    </tr>
    <tr>
      <th>32</th>
      <td>container-native-virtualization/cluster-networ...</td>
      <td>13</td>
    </tr>
    <tr>
      <th>283</th>
      <td>rhacm2/clusterlifecycle-state-metrics-rhel8</td>
      <td>13</td>
    </tr>
    <tr>
      <th>322</th>
      <td>rhacm2/search-rhel8</td>
      <td>13</td>
    </tr>
    <tr>
      <th>317</th>
      <td>rhacm2/redisgraph-tls-rhel8</td>
      <td>12</td>
    </tr>
    <tr>
      <th>312</th>
      <td>rhacm2/multiclusterhub-rhel8</td>
      <td>12</td>
    </tr>
    <tr>
      <th>280</th>
      <td>rhacm2/application-ui-rhel8</td>
      <td>12</td>
    </tr>
    <tr>
      <th>306</th>
      <td>rhacm2/multicluster-operators-application-rhel8</td>
      <td>12</td>
    </tr>
    <tr>
      <th>307</th>
      <td>rhacm2/multicluster-operators-channel-rhel8</td>
      <td>12</td>
    </tr>
    <tr>
      <th>39</th>
      <td>container-native-virtualization/kubevirt-cpu-m...</td>
      <td>11</td>
    </tr>
    <tr>
      <th>51</th>
      <td>container-native-virtualization/virt-cdi-uploa...</td>
      <td>11</td>
    </tr>
    <tr>
      <th>56</th>
      <td>container-native-virtualization/vm-import-cont...</td>
      <td>11</td>
    </tr>
    <tr>
      <th>41</th>
      <td>container-native-virtualization/kubevirt-kvm-i...</td>
      <td>11</td>
    </tr>
    <tr>
      <th>33</th>
      <td>container-native-virtualization/cnv-containern...</td>
      <td>10</td>
    </tr>
    <tr>
      <th>297</th>
      <td>rhacm2/grc-ui-rhel8</td>
      <td>10</td>
    </tr>
    <tr>
      <th>73</th>
      <td>ocs-registry</td>
      <td>10</td>
    </tr>
    <tr>
      <th>40</th>
      <td>container-native-virtualization/kubevirt-cpu-n...</td>
      <td>10</td>
    </tr>
    <tr>
      <th>292</th>
      <td>rhacm2/governance-policy-spec-sync-rhel8</td>
      <td>9</td>
    </tr>
    <tr>
      <th>305</th>
      <td>rhacm2/multicluster-observability-rhel8-operator</td>
      <td>8</td>
    </tr>
    <tr>
      <th>324</th>
      <td>rhacm2/submariner-addon-rhel8</td>
      <td>8</td>
    </tr>
    <tr>
      <th>308</th>
      <td>rhacm2/multicluster-operators-deployable-rhel8</td>
      <td>7</td>
    </tr>
    <tr>
      <th>282</th>
      <td>rhacm2/cert-policy-controller-rhel8</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now, plotting the top image name with respect to the number of cluster_id it is present in.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_s1_nos50</span> <span class="o">=</span> <span class="n">new_s1_nos</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">new_s1_nos50</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend_out</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">new_s1_nos50</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_100_0.png" src="../_images/EDA_insight_workload_data_100_0.png" />
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="distribution-of-image-ids-in-clusters">
<h3>Distribution of image_ids in clusters:<a class="headerlink" href="#distribution-of-image-ids-in-clusters" title="Permalink to this headline">¶</a></h3>
<p>In this section, we list out the image_id that are present in different clusters. We do the analysis for both image_layer_dataset and containers dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List out the image_id with the number of cluster_id for image_layer dataset:</span>
<span class="n">df1</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_image</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;image_id&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">nunique</span><span class="p">})</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df1</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>52</th>
      <td>sha256:3574d6c1fcc46e1ebd41b7b887b92035ea18213...</td>
      <td>1207</td>
    </tr>
    <tr>
      <th>51</th>
      <td>sha256:337c22cabe530213b14965f9ea69a92dbeb5104...</td>
      <td>1204</td>
    </tr>
    <tr>
      <th>198</th>
      <td>sha256:c588b4653ef037b1300f9692b986cbeac5dfe5e...</td>
      <td>1170</td>
    </tr>
    <tr>
      <th>169</th>
      <td>sha256:b3177a6ad870f49f3bb6ce9a53344b14a4150c8...</td>
      <td>989</td>
    </tr>
    <tr>
      <th>178</th>
      <td>sha256:b78a94d28cadd60465a722c17a11f3a56ac31aa...</td>
      <td>507</td>
    </tr>
    <tr>
      <th>40</th>
      <td>sha256:29678039a1f6622e9bedbb173a3e16328047fc9...</td>
      <td>507</td>
    </tr>
    <tr>
      <th>47</th>
      <td>sha256:301eb8b5ce7f2ce301acee7839071f7a2aca8d5...</td>
      <td>482</td>
    </tr>
    <tr>
      <th>241</th>
      <td>sha256:f20da357075c74f56a7aa794cad703e13e0ad08...</td>
      <td>482</td>
    </tr>
    <tr>
      <th>18</th>
      <td>sha256:12b8150c9ca3b0e4d0d58ee21bb20c2de9f3d9e...</td>
      <td>189</td>
    </tr>
    <tr>
      <th>203</th>
      <td>sha256:c83ffefa96c0b9590dadfa6fe4732871984397f...</td>
      <td>156</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">image_id_map</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">df1</span><span class="p">[[</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;summary&quot;</span><span class="p">,</span> <span class="s2">&quot;cluster_id&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>name</th>
      <th>summary</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:3574d6c1fcc46e1ebd41b7b887b92035ea18213...</td>
      <td>openshift/ose-cli</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1207</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:337c22cabe530213b14965f9ea69a92dbeb5104...</td>
      <td>openshift/ose-cli-artifacts</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1204</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sha256:c588b4653ef037b1300f9692b986cbeac5dfe5e...</td>
      <td>openshift/ose-oauth-proxy</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1170</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sha256:b3177a6ad870f49f3bb6ce9a53344b14a4150c8...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>989</td>
    </tr>
    <tr>
      <th>4</th>
      <td>sha256:b78a94d28cadd60465a722c17a11f3a56ac31aa...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>507</td>
    </tr>
    <tr>
      <th>5</th>
      <td>sha256:29678039a1f6622e9bedbb173a3e16328047fc9...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>507</td>
    </tr>
    <tr>
      <th>6</th>
      <td>sha256:301eb8b5ce7f2ce301acee7839071f7a2aca8d5...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>482</td>
    </tr>
    <tr>
      <th>7</th>
      <td>sha256:f20da357075c74f56a7aa794cad703e13e0ad08...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>482</td>
    </tr>
    <tr>
      <th>8</th>
      <td>sha256:12b8150c9ca3b0e4d0d58ee21bb20c2de9f3d9e...</td>
      <td>openshift/ose-oauth-proxy</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>189</td>
    </tr>
    <tr>
      <th>9</th>
      <td>sha256:c83ffefa96c0b9590dadfa6fe4732871984397f...</td>
      <td>openshift/ose-cli</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>156</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_head100</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_head100</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend_out</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mf">3.3</span><span class="p">,</span>
    <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_106_0.png" src="../_images/EDA_insight_workload_data_106_0.png" />
</div>
</div>
<p>The figure shows us the list of image name as a legend, represented by different color.</p>
<p>In the next case, we plot the number of cluster_id with respect to image_id along with corresponding product name for the bottom 100 most populated image_ids.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_tail100</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_tail100</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend_out</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mf">3.3</span><span class="p">,</span>
    <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_108_0.png" src="../_images/EDA_insight_workload_data_108_0.png" />
</div>
</div>
<hr class="docutils" />
<p>Similarly, the list of top 10 images in the container that are running in a cluster.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_cont</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;image_id&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">nunique</span><span class="p">})</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2655</th>
      <td>sha256:709dbe2172b81cafe1ac55a01705a88f0865182...</td>
      <td>2721</td>
    </tr>
    <tr>
      <th>4154</th>
      <td>sha256:b96c41f14bf2d701ec369a950dc85b3a1d11fa9...</td>
      <td>2551</td>
    </tr>
    <tr>
      <th>3886</th>
      <td>sha256:ab53dd55e04a29b2f252d0fdc4f7935a464cd8f...</td>
      <td>1792</td>
    </tr>
    <tr>
      <th>3644</th>
      <td>sha256:9f524db33137d2b58ac23de62379d61c507243e...</td>
      <td>1790</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>sha256:8f2498ea99f708695d1795cef47da5f5173b6ab...</td>
      <td>1361</td>
    </tr>
    <tr>
      <th>1992</th>
      <td>sha256:51074a19d1c6cf35a5dd0168abfca8c8685601a...</td>
      <td>1340</td>
    </tr>
    <tr>
      <th>4781</th>
      <td>sha256:d9fdd883c8d147c38146a3c6342a04b7a295adc...</td>
      <td>1339</td>
    </tr>
    <tr>
      <th>3127</th>
      <td>sha256:869e5f8786b9fc5a5bfef090fd6270973b911c4...</td>
      <td>1339</td>
    </tr>
    <tr>
      <th>1502</th>
      <td>sha256:3c17486313a82d91260da08357f5a3139723ad5...</td>
      <td>1339</td>
    </tr>
    <tr>
      <th>1642</th>
      <td>sha256:4241ab0ef919cbfa7a169d4f3b43f4ab1e5e70b...</td>
      <td>1339</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">cont_id_map</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">df2</span><span class="p">[[</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;summary&quot;</span><span class="p">,</span> <span class="s2">&quot;cluster_id&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>name</th>
      <th>summary</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:709dbe2172b81cafe1ac55a01705a88f0865182...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2721</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:b96c41f14bf2d701ec369a950dc85b3a1d11fa9...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2551</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sha256:ab53dd55e04a29b2f252d0fdc4f7935a464cd8f...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1792</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sha256:9f524db33137d2b58ac23de62379d61c507243e...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1790</td>
    </tr>
    <tr>
      <th>4</th>
      <td>sha256:8f2498ea99f708695d1795cef47da5f5173b6ab...</td>
      <td>openshift/ose-etcd</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1361</td>
    </tr>
    <tr>
      <th>5</th>
      <td>sha256:51074a19d1c6cf35a5dd0168abfca8c8685601a...</td>
      <td>openshift/ose-coredns</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1340</td>
    </tr>
    <tr>
      <th>6</th>
      <td>sha256:d9fdd883c8d147c38146a3c6342a04b7a295adc...</td>
      <td>openshift/ose-cluster-node-tuning-operator</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1339</td>
    </tr>
    <tr>
      <th>7</th>
      <td>sha256:869e5f8786b9fc5a5bfef090fd6270973b911c4...</td>
      <td>openshift/ose-cluster-openshift-apiserver-oper...</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1339</td>
    </tr>
    <tr>
      <th>8</th>
      <td>sha256:3c17486313a82d91260da08357f5a3139723ad5...</td>
      <td>openshift/ose-cluster-kube-apiserver-operator</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1339</td>
    </tr>
    <tr>
      <th>9</th>
      <td>sha256:4241ab0ef919cbfa7a169d4f3b43f4ab1e5e70b...</td>
      <td>openshift/ose-cluster-dns-operator</td>
      <td>Provides the latest release of Red Hat Univers...</td>
      <td>1339</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Plotting the top 50 image_id with respect to cluster_id for different image name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfc_head50</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">dfc_head50</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_114_0.png" src="../_images/EDA_insight_workload_data_114_0.png" />
</div>
</div>
<p>Similarly, plotting the bottom 10 image_ids with respect to cluster_id.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfc_tail50</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">dfc_tail50</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend_out</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_116_0.png" src="../_images/EDA_insight_workload_data_116_0.png" />
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="what-are-the-most-popular-commands-and-what-args-are-they-called-with">
<h3><strong>What are the most popular commands and what args are they called with?</strong><a class="headerlink" href="#what-are-the-most-popular-commands-and-what-args-are-they-called-with" title="Permalink to this headline">¶</a></h3>
<p>To address this query, we used the groupby method to form a dataframe which would give us the list of commands and the corresponding argument that corresponds to the particular command in the dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># For the image_layer dataset : df_image</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[[</span><span class="s2">&quot;first_command&quot;</span><span class="p">,</span> <span class="s2">&quot;first_arg&quot;</span><span class="p">]]</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;first_command&quot;</span><span class="p">,</span> <span class="s2">&quot;first_arg&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="n">df3</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;frequency&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df3</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>frequency</th>
    </tr>
    <tr>
      <th>first_command</th>
      <th>first_arg</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>icTsn2s_EIax</th>
      <th>2v1NneeWoS_9</th>
      <td>27234</td>
    </tr>
    <tr>
      <th>lwp1IAZLTWcp</th>
      <th>icTsn2s_EIax</th>
      <td>649</td>
    </tr>
    <tr>
      <th>icTsn2s_EIax</th>
      <th>icTsn2s_EIax</th>
      <td>26</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">eXOGhaZW_msl</th>
      <th>icTsn2s_EIax</th>
      <td>25</td>
    </tr>
    <tr>
      <th>15Z3GIaH57Mr</th>
      <td>18</td>
    </tr>
    <tr>
      <th>KVNJDjO6_knB</th>
      <td>13</td>
    </tr>
    <tr>
      <th>b51B0EZ1bw3c</th>
      <th>icTsn2s_EIax</th>
      <td>12</td>
    </tr>
    <tr>
      <th>lwp1IAZLTWcp</th>
      <th>h45OnGCW1OSR</th>
      <td>11</td>
    </tr>
    <tr>
      <th>Poq-znsLooiE</th>
      <th>47DEQpj8HBSa</th>
      <td>10</td>
    </tr>
    <tr>
      <th>b51B0EZ1bw3c</th>
      <th>zO0oxtw_mcI5</th>
      <td>9</td>
    </tr>
    <tr>
      <th>N9KxLV2avCo2</th>
      <th>icTsn2s_EIax</th>
      <td>6</td>
    </tr>
    <tr>
      <th>R2zXWhUnSgIM</th>
      <th>icTsn2s_EIax</th>
      <td>6</td>
    </tr>
    <tr>
      <th>c8xKHtkOWaJH</th>
      <th>icTsn2s_EIax</th>
      <td>5</td>
    </tr>
    <tr>
      <th>Ad4Rg1Av8Y0X</th>
      <th>icTsn2s_EIax</th>
      <td>4</td>
    </tr>
    <tr>
      <th>3C4BfYP4q5EN</th>
      <th>icTsn2s_EIax</th>
      <td>4</td>
    </tr>
    <tr>
      <th>nxKqHhNS6WsO</th>
      <th>icTsn2s_EIax</th>
      <td>3</td>
    </tr>
    <tr>
      <th>buSkac1OkQU4</th>
      <th>icTsn2s_EIax</th>
      <td>3</td>
    </tr>
    <tr>
      <th>2B5peo-_Thrw</th>
      <th>icTsn2s_EIax</th>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Lets try to visualize it with the help of cross tabulation table.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;first_command&quot;</span><span class="p">]</span>
<span class="n">c2</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;first_arg&quot;</span><span class="p">]</span>

<span class="n">crosstabc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">crosstabc</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f744af7eee0&gt;
</pre></div>
</div>
<img alt="../_images/EDA_insight_workload_data_122_1.png" src="../_images/EDA_insight_workload_data_122_1.png" />
</div>
</div>
<p>The dataframe above represents the list of first commands and their corresponding arguments and their frequency (number of times they appeared in the dataset). Most of the <em>first commands</em> have a corresponding single <em>first_arg</em>. But there are some <em>first_commands</em> in the dataset which corresponds to multiple <em>first_arg</em>. E.g. for first command, <strong>eXOGhaZW_msl</strong>, we have <strong>icTsn2s_EIax</strong>, <strong>15Z3GIaH57Mr</strong>, and <strong>KVNJDjO6_knB</strong> as corresponding first arguments. The frequencies of each are shown on the column next to it. The annotation in the cross tabulation table gives a better pictorial view about the distribution of different commands and argument.</p>
<p>We also explored the same query in the container dataset: <em>df_cont</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># For the containers dataset : df_cont</span>
<span class="n">df4</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[[</span><span class="s2">&quot;first_command&quot;</span><span class="p">,</span> <span class="s2">&quot;first_arg&quot;</span><span class="p">]]</span>
<span class="n">df4</span> <span class="o">=</span> <span class="n">df4</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;first_command&quot;</span><span class="p">,</span> <span class="s2">&quot;first_arg&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">df4</span> <span class="o">=</span> <span class="n">df4</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="n">df4</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;frequency&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df4</span> <span class="o">=</span> <span class="n">df4</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df4</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>frequency</th>
    </tr>
    <tr>
      <th>first_command</th>
      <th>first_arg</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">N9KxLV2avCo2</th>
      <th>k19oMZ1PIn4C</th>
      <td>16108</td>
    </tr>
    <tr>
      <th>930btY2ohuPL</th>
      <td>11509</td>
    </tr>
    <tr>
      <th>VvlllczXFX2z</th>
      <th>47DEQpj8HBSa</th>
      <td>5779</td>
    </tr>
    <tr>
      <th>930btY2ohuPL</th>
      <th>CSx56PgOVZ5A</th>
      <td>5764</td>
    </tr>
    <tr>
      <th>VvlllczXFX2z</th>
      <th>5gS4z5mOnDuY</th>
      <td>5730</td>
    </tr>
    <tr>
      <th>NJuOSOguFZRT</th>
      <th>nw1jEXz0CN6o</th>
      <td>5610</td>
    </tr>
    <tr>
      <th>b51B0EZ1bw3c</th>
      <th>ua-xlwwsvdYd</th>
      <td>2995</td>
    </tr>
    <tr>
      <th>n9CdwzVF-cwZ</th>
      <th>RNOaw_AuQeIY</th>
      <td>2939</td>
    </tr>
    <tr>
      <th>RxKEaTc90uWM</th>
      <th>r7zEsGNvlNrk</th>
      <td>2925</td>
    </tr>
    <tr>
      <th>XqE_QmN1P920</th>
      <th>r7zEsGNvlNrk</th>
      <td>2924</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c3</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[</span><span class="s2">&quot;first_command&quot;</span><span class="p">]</span>
<span class="n">c4</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[</span><span class="s2">&quot;first_arg&quot;</span><span class="p">]</span>

<span class="n">crosstabc1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">c3</span><span class="p">,</span> <span class="n">c4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">crosstabc1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f744aea0be0&gt;
</pre></div>
</div>
<img alt="../_images/EDA_insight_workload_data_125_1.png" src="../_images/EDA_insight_workload_data_125_1.png" />
</div>
</div>
<p>The <em>first command</em> and <em>first argument</em> information are unclear in the dataset we are working on. From the dataset, we can only have an information about the proportion of different commands and arguments in the dataset involved. The cross tabulation does highlight some highly correlated first_command and argument.</p>
</div>
<hr class="docutils" />
<div class="section" id="how-many-pods-have-same-image-deployed">
<h3><strong>How many PODs have same image deployed?</strong><a class="headerlink" href="#how-many-pods-have-same-image-deployed" title="Permalink to this headline">¶</a></h3>
<p>A POD is a group of one or more containers, with shared storage/network, and a specification for how to run the containers. The above question can be addressed through the shape feature of the dataset. If two or more PODs used the same set of containers and same command, they will fall into same shape. Hence, in this dataset, the “shape” will be defining the PODs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_image2</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_cont</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;image_id&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">nunique</span><span class="p">})</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;shape&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">cont_image2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>shape</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1408</th>
      <td>sha256:3869910c1e208b125bdecd4ac2d8b2cae42efe2...</td>
      <td>105</td>
    </tr>
    <tr>
      <th>5466</th>
      <td>sha256:ff39116b450fb9f860bf52e907e715e77562a49...</td>
      <td>63</td>
    </tr>
    <tr>
      <th>4327</th>
      <td>sha256:c23edb07dfa50c1923352f67999d36fde3daa16...</td>
      <td>49</td>
    </tr>
    <tr>
      <th>3679</th>
      <td>sha256:a144eeb9090759cb402d2230b959687065fe703...</td>
      <td>49</td>
    </tr>
    <tr>
      <th>1802</th>
      <td>sha256:48b386afbb3a77e5a5aae7c7656e3d0cef72260...</td>
      <td>48</td>
    </tr>
    <tr>
      <th>5099</th>
      <td>sha256:eb291bbd5ebf972b603be9a032e23ced2c4fbff...</td>
      <td>44</td>
    </tr>
    <tr>
      <th>3478</th>
      <td>sha256:970054483a8682d9fafced4c88213338acefb90...</td>
      <td>43</td>
    </tr>
    <tr>
      <th>5285</th>
      <td>sha256:f46f210d6023bec16e68340b484a8881ce46d5e...</td>
      <td>39</td>
    </tr>
    <tr>
      <th>2452</th>
      <td>sha256:673f547354767571f3ab559af96f0eacd680a58...</td>
      <td>37</td>
    </tr>
    <tr>
      <th>4292</th>
      <td>sha256:c0fff01d3cb808c169ce45a05623931363c136a...</td>
      <td>36</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The above table gives us the information about the number of PODs which have the same image deployed. We can merge the image name and summary with the above dataset to list out the product name corresponding to the image_id.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_image2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">cont_image2</span><span class="p">,</span> <span class="n">cont_id_map</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">cont_image2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>shape</th>
      <th>name</th>
      <th>summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:3869910c1e208b125bdecd4ac2d8b2cae42efe2...</td>
      <td>105</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:ff39116b450fb9f860bf52e907e715e77562a49...</td>
      <td>63</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>sha256:c23edb07dfa50c1923352f67999d36fde3daa16...</td>
      <td>49</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>sha256:a144eeb9090759cb402d2230b959687065fe703...</td>
      <td>49</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>sha256:48b386afbb3a77e5a5aae7c7656e3d0cef72260...</td>
      <td>48</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
    <tr>
      <th>5</th>
      <td>sha256:eb291bbd5ebf972b603be9a032e23ced2c4fbff...</td>
      <td>44</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
    <tr>
      <th>6</th>
      <td>sha256:970054483a8682d9fafced4c88213338acefb90...</td>
      <td>43</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td>sha256:f46f210d6023bec16e68340b484a8881ce46d5e...</td>
      <td>39</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
    <tr>
      <th>8</th>
      <td>sha256:673f547354767571f3ab559af96f0eacd680a58...</td>
      <td>37</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td>sha256:c0fff01d3cb808c169ce45a05623931363c136a...</td>
      <td>36</td>
      <td>openshift/ose-kube-rbac-proxy</td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The nan values corresponds to the ids, we cound not map using the described technique. In the dataframe, NaN is replaced by string, “Not Identified”.</p>
<p>We plot the top 100 image_id with respect to shape and image name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cont_imagehead100</span> <span class="o">=</span> <span class="n">cont_image2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;shape&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_cont_imagehead100</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_134_0.png" src="../_images/EDA_insight_workload_data_134_0.png" />
</div>
</div>
<p>We now plot the bottom 100 image_id with respect to shape and Image name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cont_imagetail100</span> <span class="o">=</span> <span class="n">cont_image2</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;image_id&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;shape&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_cont_imagetail100</span><span class="p">,</span>
    <span class="n">fit_reg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># plt.figsize(16,10)</span>
<span class="n">g</span><span class="o">.</span><span class="n">_legend</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Image Name&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_136_0.png" src="../_images/EDA_insight_workload_data_136_0.png" />
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="are-there-any-images-that-occur-in-only-one-cluster">
<h3><strong>Are there any images that occur in only one cluster?</strong><a class="headerlink" href="#are-there-any-images-that-occur-in-only-one-cluster" title="Permalink to this headline">¶</a></h3>
<p>The approach is similar to finding the number of images that occurs in a cluster. Once, we have the set of images along with the number of cluster ids. We can get the information about the image_id, which occur in only one cluster.</p>
<p>From the image layer dataset, the results are below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image2</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">image_layers_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;image_id&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">nunique</span><span class="p">})</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">image2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:00c7b9643efc790dd9dd9ee37a15cc6c99d6c6d...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>145</th>
      <td>sha256:a432b1298cbf87f96935e39c9846d8846284402...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>146</th>
      <td>sha256:a49b7d567962fae7cb0749a11f81dc8a0c9470a...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>148</th>
      <td>sha256:a5995f6e041a400e0aa0aa81153a6a90c2b4a51...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>149</th>
      <td>sha256:a67e88f3da133e68ccf5c121d003548e80344fe...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>151</th>
      <td>sha256:a8dcb1924ec3ef36c1dcbec5f06a8decd7b1b67...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>152</th>
      <td>sha256:a9062538fdca6913d803bb4a9500f4fd303d022...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>153</th>
      <td>sha256:a9bdf52384a222635efc0284db47d12fbde8c3d...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>154</th>
      <td>sha256:aaea76ff622d2f8bcb32e538e7b3cd0ef6d2919...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>155</th>
      <td>sha256:ab3d23ae5f2c70aef880ded1adddfe3f97ed5b1...</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now, linking the corresponding image_id with the Image name. We have,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">image2</span><span class="p">,</span> <span class="n">image_id_map</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">image2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>cluster_id</th>
      <th>name</th>
      <th>summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:00c7b9643efc790dd9dd9ee37a15cc6c99d6c6d...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:a432b1298cbf87f96935e39c9846d8846284402...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sha256:a49b7d567962fae7cb0749a11f81dc8a0c9470a...</td>
      <td>1</td>
      <td>rhel8/postgresql-10</td>
      <td>PostgreSQL is an advanced Object-Relational da...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sha256:a5995f6e041a400e0aa0aa81153a6a90c2b4a51...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>sha256:a67e88f3da133e68ccf5c121d003548e80344fe...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>sha256:a8dcb1924ec3ef36c1dcbec5f06a8decd7b1b67...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>sha256:a9062538fdca6913d803bb4a9500f4fd303d022...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>sha256:a9bdf52384a222635efc0284db47d12fbde8c3d...</td>
      <td>1</td>
      <td>rhscl/redis-32-rhel7</td>
      <td>Redis in-memory data structure store, used as ...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>sha256:aaea76ff622d2f8bcb32e538e7b3cd0ef6d2919...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>sha256:ab3d23ae5f2c70aef880ded1adddfe3f97ed5b1...</td>
      <td>1</td>
      <td>openshift/ose-tests</td>
      <td>Provides the latest release of Red Hat Univers...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Following the similar procedure for the container dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_image3</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">containers_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;image_id&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">nunique</span><span class="p">})</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">cont_image3</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>cluster_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:000a751718a0a952c37b005f857456e4246cbf9...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2757</th>
      <td>sha256:74e45b4b999cdb47ba223ed9586e6061dbb70f3...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2758</th>
      <td>sha256:74f264c6eb6f4794a1099958cafd8a7a9ff5fa5...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2759</th>
      <td>sha256:74fc7f0df654594f396d703f57b8014348c1e95...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5166</th>
      <td>sha256:edee8d1f12c76a97925b91e088c2fe39235095c...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2766</th>
      <td>sha256:75183bfd70aa8d9ca1a480e4f316892a66e7fa7...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2768</th>
      <td>sha256:752afa082575cb19d7a0b7c797a78c35aa1dda8...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2770</th>
      <td>sha256:7541e5cbada5e8ccf53655bd7ad5c64883d2ad2...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2771</th>
      <td>sha256:755269bb86bad3592a790586ed8f8a3288874ba...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2775</th>
      <td>sha256:7580aa2dcdf036447b209381fc0128f04d189c5...</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_image3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">cont_image3</span><span class="p">,</span> <span class="n">cont_id_map</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="n">cont_image3</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>image_id</th>
      <th>cluster_id</th>
      <th>name</th>
      <th>summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:000a751718a0a952c37b005f857456e4246cbf9...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:74e45b4b999cdb47ba223ed9586e6061dbb70f3...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sha256:74f264c6eb6f4794a1099958cafd8a7a9ff5fa5...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sha256:74fc7f0df654594f396d703f57b8014348c1e95...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>sha256:edee8d1f12c76a97925b91e088c2fe39235095c...</td>
      <td>1</td>
      <td>openshift/ose-csi-external-attacher</td>
      <td>Provides the latest release of Red Hat Univers...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>sha256:75183bfd70aa8d9ca1a480e4f316892a66e7fa7...</td>
      <td>1</td>
      <td>openshift/ose-operator-registry</td>
      <td>Operator Registry runs in a Kubernetes or Open...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>sha256:752afa082575cb19d7a0b7c797a78c35aa1dda8...</td>
      <td>1</td>
      <td>container-native-virtualization/virt-cdi-contr...</td>
      <td>Controller for the data fetching service</td>
    </tr>
    <tr>
      <th>7</th>
      <td>sha256:7541e5cbada5e8ccf53655bd7ad5c64883d2ad2...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>sha256:755269bb86bad3592a790586ed8f8a3288874ba...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>sha256:7580aa2dcdf036447b209381fc0128f04d189c5...</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="is-customer-cluster-is-empty-testing-or-full">
<h3>Is customer cluster is empty, testing or full?<a class="headerlink" href="#is-customer-cluster-is-empty-testing-or-full" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_image4</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_cont</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;shape_instances&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">nunique</span><span class="p">})</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;shape_instances&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">cont_image4</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cluster_id</th>
      <th>shape_instances</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2456</th>
      <td>d46df89c-cb5c-467c-bde6-109d2d440031</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2216</th>
      <td>c04ca332-ac85-4fd6-837c-c24f6c09f1b4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1102</th>
      <td>618a5444-bb49-45eb-ac27-1949e175c4a1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2548</th>
      <td>dcb7efad-feb6-45be-9a7d-ea608f26278f</td>
      <td>1</td>
    </tr>
    <tr>
      <th>0</th>
      <td>00003d61-9db1-4757-9cd1-84df271daeb9</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1793</th>
      <td>9c8535e9-a21c-4585-8102-07e5f33c8c92</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1796</th>
      <td>9cb80569-bfe1-4317-85bf-6363c26ce676</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1797</th>
      <td>9ceb42ff-772d-4cdf-b9eb-c6b3b0a1e628</td>
      <td>2</td>
    </tr>
    <tr>
      <th>792</th>
      <td>474f7a6a-cfbe-4ac2-9644-7c4013c34367</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1798</th>
      <td>9d3bfcd9-4914-409c-8ec5-13ba43c4a7e9</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>To address this query, we try to look for those cluster_id/image_id and the minimum number of shape_instances, which defines the number of POD of certain shape. We observe that no cluster is empty. Each cluster is running atleast one POD, defined by the shape instances.</p>
</div>
<hr class="docutils" />
<div class="section" id="how-many-users-are-deploying-ha-configurations">
<h3>How many users are deploying HA configurations?<a class="headerlink" href="#how-many-users-are-deploying-ha-configurations" title="Permalink to this headline">¶</a></h3>
<p>HA (High availability) configurations are the POD with 3 or more replicas. The query refers to finding the cluster_id with 3 or more shape instances. Shape instances is defined as the number of PODs of particular shape. Hence, if we generate a dataframe which list out the cluster_id and corresponding shape instances. We will have the information about the number of users deploying HA configurations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_image5</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span> <span class="s2">&quot;shape_instances&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>Cluster_id containing 3 or more shape instances:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_image5</span> <span class="o">=</span> <span class="n">cont_image5</span><span class="p">[(</span><span class="n">cont_image5</span><span class="p">[</span><span class="s2">&quot;shape_instances&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)]</span>
<span class="n">cont_image5</span> <span class="o">=</span> <span class="n">cont_image5</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;shape_instances&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">cont_image5</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cluster_id</th>
      <th>shape_instances</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>260457</th>
      <td>8505f31a-ba37-4e67-9441-0863b38b23c1</td>
      <td>1500</td>
    </tr>
    <tr>
      <th>183507</th>
      <td>70795f27-2ccc-4719-ae89-2ad33f2bce93</td>
      <td>683</td>
    </tr>
    <tr>
      <th>197315</th>
      <td>ebf54a64-9c86-4281-850d-f8764aece456</td>
      <td>500</td>
    </tr>
    <tr>
      <th>245889</th>
      <td>645eecc4-917b-43e1-a2d0-eba9781d406c</td>
      <td>500</td>
    </tr>
    <tr>
      <th>245890</th>
      <td>645eecc4-917b-43e1-a2d0-eba9781d406c</td>
      <td>500</td>
    </tr>
    <tr>
      <th>245891</th>
      <td>645eecc4-917b-43e1-a2d0-eba9781d406c</td>
      <td>500</td>
    </tr>
    <tr>
      <th>197313</th>
      <td>ebf54a64-9c86-4281-850d-f8764aece456</td>
      <td>500</td>
    </tr>
    <tr>
      <th>188662</th>
      <td>9894d014-e1cd-4e39-b114-15490988b9f0</td>
      <td>500</td>
    </tr>
    <tr>
      <th>197316</th>
      <td>ebf54a64-9c86-4281-850d-f8764aece456</td>
      <td>500</td>
    </tr>
    <tr>
      <th>245892</th>
      <td>645eecc4-917b-43e1-a2d0-eba9781d406c</td>
      <td>500</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hence, the number of cluster_id deploying HA configurations are,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_image5</span><span class="o">.</span><span class="n">cluster_id</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1767
</pre></div>
</div>
</div>
</div>
<p>Total number of unique cluster_id:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cont</span><span class="o">.</span><span class="n">cluster_id</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2927
</pre></div>
</div>
</div>
</div>
<p>Hence, out of 2927 cluster_id, 1767, i.e, ~60% of the total cluster id have HA configuration.</p>
</div>
<div class="section" id="most-common-base-images">
<h3>Most common base images<a class="headerlink" href="#most-common-base-images" title="Permalink to this headline">¶</a></h3>
<p>The base images are those images for which the layer_image_level = 0. Hence, If we can make a list of base images and count them according to their number of occurance. We can get the most common base images.</p>
<p>Lets start with filtering out the dataset by including only the set for which the layer_image_level = 0.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_image3</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[(</span><span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;layer_image_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)]</span>
<span class="n">df_base</span> <span class="o">=</span> <span class="n">df_image3</span><span class="p">[</span><span class="s2">&quot;layer_image_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">df_base</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_base</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_base</span> <span class="o">=</span> <span class="n">df_base</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="s2">&quot;layer_image_id&quot;</span><span class="p">,</span> <span class="s2">&quot;layer_image_id&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">df_base10</span> <span class="o">=</span> <span class="n">df_base</span>
<span class="n">df_base10</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>layer_image_id</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:9ebb302e1fb002fb643091710dac46f8258781d...</td>
      <td>5919</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:6b536614e8f89a67294fb2b5a743b44675697c4...</td>
      <td>2030</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sha256:13897c84ca5715a68feafcce9acf779f35806f4...</td>
      <td>219</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sha256:cf0a16f210ccd6c827ab3f2015649674a9ad2da...</td>
      <td>114</td>
    </tr>
    <tr>
      <th>4</th>
      <td>sha256:99175d5a93b0ce65220c214840978f43fe7029d...</td>
      <td>90</td>
    </tr>
    <tr>
      <th>5</th>
      <td>sha256:4b21dcdd136d133a4df0840e656af2f488c226d...</td>
      <td>68</td>
    </tr>
    <tr>
      <th>6</th>
      <td>sha256:12759cfb2d9fd40b1f65b14a9194473f85b9c54...</td>
      <td>41</td>
    </tr>
    <tr>
      <th>7</th>
      <td>sha256:174e47727a3560ec5d85f4cdac2fd06193ccf4d...</td>
      <td>29</td>
    </tr>
    <tr>
      <th>8</th>
      <td>sha256:5d7c51f107643d6a4f86a141842ee1babfcd457...</td>
      <td>11</td>
    </tr>
    <tr>
      <th>9</th>
      <td>sha256:b4a6e23922ddc3d105fee9afff80151a13fe058...</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The above list gives us the list of base layer_image_id with it number of occurance. The most common base image ID is given by <strong>“sha256:9ebb302e1fb002fb643091710dac46f8258781d5b8ee8c9a5a7c06361af23bd0”</strong>. We could not extract the image_name corresponding to the base layer_id for layer_image_level == 0.</p>
</div>
<div class="section" id="most-common-images-for-layer-1">
<h3>Most common images for layer = 1<a class="headerlink" href="#most-common-images-for-layer-1" title="Permalink to this headline">¶</a></h3>
<p>To check the most common layer 1 image. We just replace the above filter with layer_image_layer == 1.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_image3</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[(</span><span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;layer_image_level&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
<span class="n">df_base</span> <span class="o">=</span> <span class="n">df_image3</span><span class="p">[</span><span class="s2">&quot;layer_image_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">df_base</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_base</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df_base</span> <span class="o">=</span> <span class="n">df_base</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="s2">&quot;layer_image_id&quot;</span><span class="p">,</span> <span class="s2">&quot;layer_image_id&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">df_base10</span> <span class="o">=</span> <span class="n">df_base</span>
<span class="n">df_base10</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>layer_image_id</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:a74396a32e85c2feeedf76052ed3297859810c8...</td>
      <td>5919</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:fdb393d8227cbe9756537d3f215a3098ae797bd...</td>
      <td>2030</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sha256:64607cc74f9cbe0e12f167547df0cf661de5a8b...</td>
      <td>219</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sha256:861e9177a57a5b2e5872d03bd05fcf90582035f...</td>
      <td>114</td>
    </tr>
    <tr>
      <th>4</th>
      <td>sha256:f90b45132d7bd0fbd1c82a0e19a397049b8a7a8...</td>
      <td>90</td>
    </tr>
    <tr>
      <th>5</th>
      <td>sha256:55eda774346862e410811e3fa91cefe805bc11f...</td>
      <td>68</td>
    </tr>
    <tr>
      <th>6</th>
      <td>sha256:789f189e0129985933aad4956a2d8afe41e0f44...</td>
      <td>41</td>
    </tr>
    <tr>
      <th>7</th>
      <td>sha256:f4144bd04375fd6b47077188591be65d787a2b6...</td>
      <td>29</td>
    </tr>
    <tr>
      <th>8</th>
      <td>sha256:7d193b7ff8d88054bca99697dc9fe5ec01d8726...</td>
      <td>11</td>
    </tr>
    <tr>
      <th>9</th>
      <td>sha256:cca21acb641a96561e0cf9a0c1c7b7ffbaaefc9...</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">layer_id</span> <span class="o">=</span> <span class="n">image_layer_idmap</span><span class="p">[[</span><span class="s2">&quot;layer_image_id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">]]</span>
<span class="n">df_base_merge</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_base10</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;layer_image_id&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
<span class="n">df_base_merge</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>layer_image_id</th>
      <th>number</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>sha256:a74396a32e85c2feeedf76052ed3297859810c8...</td>
      <td>5919</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sha256:fdb393d8227cbe9756537d3f215a3098ae797bd...</td>
      <td>2030</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sha256:64607cc74f9cbe0e12f167547df0cf661de5a8b...</td>
      <td>219</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sha256:861e9177a57a5b2e5872d03bd05fcf90582035f...</td>
      <td>114</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>sha256:f90b45132d7bd0fbd1c82a0e19a397049b8a7a8...</td>
      <td>90</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>sha256:55eda774346862e410811e3fa91cefe805bc11f...</td>
      <td>68</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>6</th>
      <td>sha256:789f189e0129985933aad4956a2d8afe41e0f44...</td>
      <td>41</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>7</th>
      <td>sha256:f4144bd04375fd6b47077188591be65d787a2b6...</td>
      <td>29</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>8</th>
      <td>sha256:7d193b7ff8d88054bca99697dc9fe5ec01d8726...</td>
      <td>11</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>sha256:cca21acb641a96561e0cf9a0c1c7b7ffbaaefc9...</td>
      <td>8</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>10</th>
      <td>sha256:de10d63efa9ceabd041f633b48d5405a58fbd4d...</td>
      <td>7</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>11</th>
      <td>sha256:3fc2062ea6672189447be7510fb7d5bc2ef2fda...</td>
      <td>6</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>sha256:9070ddbf3d9e838218bc036b49e59f1e676d5ec...</td>
      <td>6</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>sha256:a858833a9239708c0c07c8fdf95218065c0605e...</td>
      <td>5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>14</th>
      <td>sha256:313d7b11f547f52d321f2a708510f53690a04fc...</td>
      <td>4</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>15</th>
      <td>sha256:159a7b5d1b30a534b218f68e14a0f86ec7e6968...</td>
      <td>4</td>
      <td>rhel7</td>
    </tr>
    <tr>
      <th>16</th>
      <td>sha256:6500ac87b29ffd00c8655be65a6824dfcf9fc0a...</td>
      <td>3</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>17</th>
      <td>sha256:43487d92c6648e09f87011e1b6ff1531f8d6804...</td>
      <td>3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>18</th>
      <td>sha256:c4394a92d1f8760cf7d17fee0bcee732c94c5b8...</td>
      <td>3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>19</th>
      <td>sha256:f840832afa6e423b00eb0f1f3a08edfcd91e536...</td>
      <td>3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>20</th>
      <td>sha256:be73321c79565b4e2fdf9f55ba6333e5d50a1bc...</td>
      <td>2</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>21</th>
      <td>sha256:14a7f8b848ae26049bb5832775adea01706a33b...</td>
      <td>2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>22</th>
      <td>sha256:7ca359fa9862549d7254cc7410b8f5e44c54412...</td>
      <td>2</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>23</th>
      <td>sha256:2bd25ca124579d6fce8668ff5d4ed83866d7e74...</td>
      <td>2</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>24</th>
      <td>sha256:ec1a692bba396bb615e6feeaf136f8d44823dd3...</td>
      <td>2</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>25</th>
      <td>sha256:1d2c4ce43b78cb9a97ede7f19ad1406a43ee505...</td>
      <td>2</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>26</th>
      <td>sha256:922b421e35632f3b49b2f37a889823d2b1ceb29...</td>
      <td>2</td>
      <td>ubi8</td>
    </tr>
    <tr>
      <th>27</th>
      <td>sha256:882c24cf380e3fc9abafd619b037bf08765e5b2...</td>
      <td>2</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>28</th>
      <td>sha256:b77bb434db5a2c43574630adfbe80aa3b36c179...</td>
      <td>2</td>
      <td>rhel7</td>
    </tr>
    <tr>
      <th>29</th>
      <td>sha256:23aa851937efc598273e6945c719faec6399b90...</td>
      <td>2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>30</th>
      <td>sha256:130dbf48571a7271fac3d9dec876f07374ef6fd...</td>
      <td>2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>31</th>
      <td>sha256:c3dca185eb1482e83381d99881430ebc179e91f...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>32</th>
      <td>sha256:da41a38d96d0d8d12efb7c7c40627b4d4db0b20...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>33</th>
      <td>sha256:0d0a6cf5f9371f4c6a849ac94d203c428d4d354...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>34</th>
      <td>sha256:56413339a9f3f3c1acaa3deaf1d7bcc338112c5...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>35</th>
      <td>sha256:65c0f2178ac8a3c28f48efd26ccf16bd6f344fa...</td>
      <td>1</td>
      <td>ubi8-minimal</td>
    </tr>
    <tr>
      <th>36</th>
      <td>sha256:512e556eff44ba01a9990783f7a8944becc6b2d...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>37</th>
      <td>sha256:626a2a3fee8c6a9b5b866adc6cb15d54b5d901b...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>38</th>
      <td>sha256:7d2d8330490119f01d1087adb98a324b3292f47...</td>
      <td>1</td>
      <td>rhel7</td>
    </tr>
    <tr>
      <th>39</th>
      <td>sha256:d22d2dfcfa9cd230ed3c47defec2670d4508159...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>40</th>
      <td>sha256:49e22f6fb9f7713028f8ed9b0beaa2ebac38d73...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>41</th>
      <td>sha256:8ec3918114ccaf7070b55fbb7abf3fa73956054...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>42</th>
      <td>sha256:021cf54e86b387ee77aa5291e154e9b47617162...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>43</th>
      <td>sha256:121ab4741000471a7e2ddc687dedb440060bf98...</td>
      <td>1</td>
      <td>rhel7</td>
    </tr>
    <tr>
      <th>44</th>
      <td>sha256:dbdc3b417326183d42299d3f607b06d08ca670f...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>45</th>
      <td>sha256:bb6ea5b75e4badab6eb0a146cbf2b3cc66b5783...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>46</th>
      <td>sha256:de3a55304d5ffe1d93ba9d7bb6763ab2fe67e65...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>47</th>
      <td>sha256:36c462461b287879ac5ad1ce62cbcff3d9d45c8...</td>
      <td>1</td>
      <td>ubi8-minimal</td>
    </tr>
    <tr>
      <th>48</th>
      <td>sha256:f0b73e4bb01e86243e3c1e9c0db78ee9d68fc90...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>49</th>
      <td>sha256:15c9a4a75a9abb4dc88bae1ed535b472ec0ad75...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>50</th>
      <td>sha256:ef726155bc5498c5f23a9bcdd8cbf48e63e7ed8...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>51</th>
      <td>sha256:912f2c9afa6b27a523e3225a5617a6295551eb3...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>52</th>
      <td>sha256:1b6c93aa6be556287047dd363def26901d36b45...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>53</th>
      <td>sha256:87b0a0e982fda2aea79fba3bd252b162f11b762...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>54</th>
      <td>sha256:311114930ca380d58e9fa890a6689c84864af51...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>55</th>
      <td>sha256:9605c76aba31e1dc1b56d2a08a06eab3019a646...</td>
      <td>1</td>
      <td>rhel7</td>
    </tr>
    <tr>
      <th>56</th>
      <td>sha256:32be9843afa050552a66345576a59497ba7c81c...</td>
      <td>1</td>
      <td>rhel7</td>
    </tr>
    <tr>
      <th>57</th>
      <td>sha256:8b32988996c5d776076ea3cd672855f6d0faac8...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>58</th>
      <td>sha256:aebb8c5568533b57ee3da86262f7bff81383a2a...</td>
      <td>1</td>
      <td>ubi8-minimal</td>
    </tr>
    <tr>
      <th>59</th>
      <td>sha256:1f209e06e85d1c9a1b44b7a5b87360d79762459...</td>
      <td>1</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>60</th>
      <td>sha256:92dee544187a5c3c67cff7601f30a240568bf96...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>61</th>
      <td>sha256:83e3ef45ac65bbab4208df9e566269fa36e4f79...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>62</th>
      <td>sha256:d3ea4780497d79f784e7291863e396eee2f60a5...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>63</th>
      <td>sha256:41ebfd3d2fd0de99b1c63aa36a507bf5555481d...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>64</th>
      <td>sha256:cf0f3ebe9f536c782ab3835049cfbd9a663761d...</td>
      <td>1</td>
      <td>ubi8-minimal</td>
    </tr>
    <tr>
      <th>65</th>
      <td>sha256:e8d62473a22dec9ffef056b2017968a9dc484c8...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>66</th>
      <td>sha256:455ea8ab06218495bbbcb14b750a0d644897b24...</td>
      <td>1</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>67</th>
      <td>sha256:1edc2ca024149cf38760ea3513fc7ff0c26eebc...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>68</th>
      <td>sha256:9a95e01ec5872f19ef583354a403f3b6870c756...</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>69</th>
      <td>sha256:4fbc3bafa3d4400bb97a733c1fe12f2f99bf38b...</td>
      <td>1</td>
      <td>ubi7</td>
    </tr>
    <tr>
      <th>70</th>
      <td>sha256:86b79fa38580335f11b14947f56deda72040b75...</td>
      <td>1</td>
      <td>ubi7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The above list represents the list of most common layers in decending order, and their corresponding image_name extracted using the Pyxis mapping technique. There are <code class="docutils literal notranslate"><span class="pre">nan</span></code> values for those ids for which we could not extract the image_name. We do see that for the workload dataset, <code class="docutils literal notranslate"><span class="pre">ubi8</span></code> is most common layer.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="plots-of-information-extracted-from-the-telemetry">
<h2>Plots of information extracted from the telemetry<a class="headerlink" href="#plots-of-information-extracted-from-the-telemetry" title="Permalink to this headline">¶</a></h2>
<p>We extracted the values for the parameters, i.e, <code class="docutils literal notranslate"><span class="pre">value_workload:cpu_usage_cores:sum</span></code>, <code class="docutils literal notranslate"><span class="pre">value_workload:memory_usage_bytes:sum</span></code> , <code class="docutils literal notranslate"><span class="pre">value_openshift:cpu_usage_cores:sum</span></code>, <code class="docutils literal notranslate"><span class="pre">value_openshift:memory_usage_bytes:sum</span></code>, <code class="docutils literal notranslate"><span class="pre">value_cluster:cpu_usage_cores:sum</span></code>, <code class="docutils literal notranslate"><span class="pre">value_cluster:memory_usage_bytes:sum</span></code>, by linking the corresponding cluster_id and timestamp given in the workload data of insight operator archive.</p>
<p>In this section, we plot those values with respect to the cluster_id and the corresponding product_name, for both image_layer dataset and containers dataset.</p>
<div class="section" id="image-layers-dataset">
<h3><strong>Image_layers_dataset</strong><a class="headerlink" href="#image-layers-dataset" title="Permalink to this headline">¶</a></h3>
<p>Here, we plot the histograms for the values extracted from the telemetry to get an idea of how to values are distributed in the dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># changing the dtype object to float</span>
<span class="n">df_image</span><span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span>
    <span class="nb">float</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_image</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="mi">1</span><span class="p">:],</span> <span class="n">data</span><span class="o">=</span><span class="n">df_image</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;rainbow&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_177_0.png" src="../_images/EDA_insight_workload_data_177_0.png" />
<img alt="../_images/EDA_insight_workload_data_177_1.png" src="../_images/EDA_insight_workload_data_177_1.png" />
<img alt="../_images/EDA_insight_workload_data_177_2.png" src="../_images/EDA_insight_workload_data_177_2.png" />
<img alt="../_images/EDA_insight_workload_data_177_3.png" src="../_images/EDA_insight_workload_data_177_3.png" />
<img alt="../_images/EDA_insight_workload_data_177_4.png" src="../_images/EDA_insight_workload_data_177_4.png" />
<img alt="../_images/EDA_insight_workload_data_177_5.png" src="../_images/EDA_insight_workload_data_177_5.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>

<span class="n">image_value_columns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">image_value_columns</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">df_image</span><span class="p">[</span><span class="n">col</span><span class="p">],</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df_image</span><span class="p">,</span>
        <span class="n">hue</span><span class="o">=</span><span class="n">df_image</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Cluster_id&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_178_0.png" src="../_images/EDA_insight_workload_data_178_0.png" />
<img alt="../_images/EDA_insight_workload_data_178_1.png" src="../_images/EDA_insight_workload_data_178_1.png" />
<img alt="../_images/EDA_insight_workload_data_178_2.png" src="../_images/EDA_insight_workload_data_178_2.png" />
<img alt="../_images/EDA_insight_workload_data_178_3.png" src="../_images/EDA_insight_workload_data_178_3.png" />
<img alt="../_images/EDA_insight_workload_data_178_4.png" src="../_images/EDA_insight_workload_data_178_4.png" />
<img alt="../_images/EDA_insight_workload_data_178_5.png" src="../_images/EDA_insight_workload_data_178_5.png" />
</div>
</div>
</div>
<div class="section" id="id1">
<h3>Containers dataset<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Here, we plot the histograms for the values extracted from the telemetry to get an idea of how to values are distributed in the dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cont</span><span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]</span> <span class="o">=</span> <span class="n">df_image</span><span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span>
    <span class="nb">float</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_cont</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="mi">1</span><span class="p">:],</span> <span class="n">data</span><span class="o">=</span><span class="n">df_cont</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;rainbow&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_182_0.png" src="../_images/EDA_insight_workload_data_182_0.png" />
<img alt="../_images/EDA_insight_workload_data_182_1.png" src="../_images/EDA_insight_workload_data_182_1.png" />
<img alt="../_images/EDA_insight_workload_data_182_2.png" src="../_images/EDA_insight_workload_data_182_2.png" />
<img alt="../_images/EDA_insight_workload_data_182_3.png" src="../_images/EDA_insight_workload_data_182_3.png" />
<img alt="../_images/EDA_insight_workload_data_182_4.png" src="../_images/EDA_insight_workload_data_182_4.png" />
<img alt="../_images/EDA_insight_workload_data_182_5.png" src="../_images/EDA_insight_workload_data_182_5.png" />
</div>
</div>
<p>Since the container dataset contains huge number of products, we will show the plots for top 50 and bottom 50 products in the container dataset.</p>
<p>The top 20 products related to <code class="docutils literal notranslate"><span class="pre">openshift</span></code> in the containers dataset is given by,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os20</span> <span class="o">=</span> <span class="n">new_s1_os</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">os_20</span> <span class="o">=</span> <span class="n">os20</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="n">os_20</span> <span class="o">=</span> <span class="n">os_20</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Now, filtering the dataset with respect to the above 20 products,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_cont_os_tele</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[</span><span class="n">df_cont</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">os_20</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_value_columns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cont_value_columns</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">new_cont_os_tele</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">new_cont_os_tele</span><span class="p">[</span><span class="n">col</span><span class="p">],</span>
        <span class="n">data</span><span class="o">=</span><span class="n">new_cont_os_tele</span><span class="p">,</span>
        <span class="n">hue</span><span class="o">=</span><span class="n">new_cont_os_tele</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.40</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Cluster_id&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_187_0.png" src="../_images/EDA_insight_workload_data_187_0.png" />
<img alt="../_images/EDA_insight_workload_data_187_1.png" src="../_images/EDA_insight_workload_data_187_1.png" />
<img alt="../_images/EDA_insight_workload_data_187_2.png" src="../_images/EDA_insight_workload_data_187_2.png" />
<img alt="../_images/EDA_insight_workload_data_187_3.png" src="../_images/EDA_insight_workload_data_187_3.png" />
<img alt="../_images/EDA_insight_workload_data_187_4.png" src="../_images/EDA_insight_workload_data_187_4.png" />
<img alt="../_images/EDA_insight_workload_data_187_5.png" src="../_images/EDA_insight_workload_data_187_5.png" />
</div>
</div>
<p>Next, we plot the values for top 20 products not related to <code class="docutils literal notranslate"><span class="pre">openshift</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nos20</span> <span class="o">=</span> <span class="n">new_s1_nos</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">nos_20</span> <span class="o">=</span> <span class="n">nos20</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="n">nos_20</span> <span class="o">=</span> <span class="n">nos_20</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_cont_nos_tele</span> <span class="o">=</span> <span class="n">df_cont</span><span class="p">[</span><span class="n">df_cont</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">nos_20</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cont_value_columns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;value_workload:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_workload:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_openshift:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:cpu_usage_cores:sum&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value_cluster:memory_usage_bytes:sum&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cont_value_columns</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">new_cont_nos_tele</span><span class="p">[</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">new_cont_nos_tele</span><span class="p">[</span><span class="n">col</span><span class="p">],</span>
        <span class="n">data</span><span class="o">=</span><span class="n">new_cont_nos_tele</span><span class="p">,</span>
        <span class="n">hue</span><span class="o">=</span><span class="n">new_cont_nos_tele</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.40</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Cluster_id&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/EDA_insight_workload_data_191_0.png" src="../_images/EDA_insight_workload_data_191_0.png" />
<img alt="../_images/EDA_insight_workload_data_191_1.png" src="../_images/EDA_insight_workload_data_191_1.png" />
<img alt="../_images/EDA_insight_workload_data_191_2.png" src="../_images/EDA_insight_workload_data_191_2.png" />
<img alt="../_images/EDA_insight_workload_data_191_3.png" src="../_images/EDA_insight_workload_data_191_3.png" />
<img alt="../_images/EDA_insight_workload_data_191_4.png" src="../_images/EDA_insight_workload_data_191_4.png" />
<img alt="../_images/EDA_insight_workload_data_191_5.png" src="../_images/EDA_insight_workload_data_191_5.png" />
</div>
</div>
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>The notebook provides the EDA results for the insight operator workload dataset which was merged with data from the Pyxis and telemetry dataset respectively. We do found some list of top image_ids/product name in the dataset and also plot the values obtained from the telemetry dataset with respect to cluster_ids.</p>
<p>In our next approach, we will try to apply the ML techniques to track different clusters from the workload dataset.</p>
<hr class="docutils" />
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>


            <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>

        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>

          By AIOps<br/>

            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>
